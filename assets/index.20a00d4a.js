import{w as S,g as M,b as T,f as Z,d as j,m as q,n as z,x as H,y as J,a as P}from"./element-plus.840869d5.js";import{d as G,b as r,o as c,c as g,a as u,S as e,Q as a,u as F,M as W,a3 as $,J as ee,ac as w,a0 as v,P as D,L as O,U as ae,O as te,H as oe}from"./@vue.669e5f5d.js";import{d as U}from"./openai.076a60b7.js";import{u as se}from"./@element-plus.032e0b8e.js";import"./@vueuse.fb085ff4.js";import"./dayjs.810e77a2.js";import"./@intlify.7d747563.js";import"./lodash-es.b8baee12.js";import"./async-validator.5d25c98b.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.1c4ac15a.js";import"./axios.e9656f83.js";import"./form-data.d1f94bc2.js";var le="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAJiSURBVEhL1de/ahVBFAbw+yI+gYW1b+AL6AvoC+gLxE5stLRRLBSCsUgj+KeJjQnEIgjKbRRBBa0M/oGgzXp/qyccZ2f2rgRu8IMPZmdm5zvfOWc2ubO7893u1MbV7sSdtZWQFs3ZKkWDNGe1hVXw/xI+9+R2d3bB2tpUThY+vXm923i912V8+XHQXXuxVd2/jJOEzzy40Yt8+L7fXdre7B3jrflOH8D2p7d9AHh+a716RslJwgRfff7Ynbx35a95QQgIvv486Anvv+33geW9JUeFpffmH1f5IOOXi0Dg/pu9fl9+R5ACkqmYL9kUlrYAx+Y4jjo7vOXKPuuc19axKhyiaog7ixqaJySdUhx7zakxh2vPHx7OX3i63p/Rcj0QFi0Q9CyILOzZOLo8Gk7KIdcXLqdgMgfCNkI0Uk0YCUIEgtzZC7IAOTuZA+EsVD4ThmgotFZ2sTRHh+f5zKpwbopSOEqQaZ3Qo3fzww6XMVnhvNyPA+FoiohUqhx68dnvD0dObZBwrIEzzI812EAYXQX3NOoctdO5LccRKOTgoNZgVeGItFY76dPNUeNoojHhWpaqwpEyTsDhUTvkmnsl4Kbl2DtQ6+xRYeNwCeZ9JCLlUYqW8ONFswnOuORoqqMpCDjMIUSye/MCycKC0uEw+R4HibSuAgpOD0C4x4D3W6LYFOYA8t1EWYiG4j5fFUKg7lGGFpvCyJXIIdyBmlvLewUn5YLJ8y2OCqPIOVFLdMfB32n/d6ExUWvLnAaXCpd0sJpGJgK+31NF8Z+FM/VB7XM4hUcSPgqP7yfM8fxo2+1+AclvFAZjnddpAAAAAElFTkSuQmCC";const ne={class:"openai"},ue=u("div",{class:"title"},[u("span",null,"OpenAI ChatGPT"),u("i",null,"--\u7B80\u5355\u5BF9\u8BDD")],-1),re={class:"search-box"},ie=u("div",{style:{height:"1000px"}},null,-1),ce={key:0,src:le,width:"30",height:"30",alt:"",class:"icon"},pe={class:"loading"},de=v("\u91CD\u7F6E"),_e=v("\u5BF9\u8BDD"),me=v("\u91CD\u7F6E"),Ae=v("\u5BF9\u8BDD"),Re=G({setup(ve){const V=new U.Configuration({apiKey:window.config.API_KEY}),R=new U.OpenAIApi(V),y=r(),C=r(),n=r(""),E=r("1"),p=r(!1),d=r([]),_=r(""),I=r(0),k=()=>{f()},K=({scrollTop:t})=>{I.value=t},m=()=>{!p.value&&Y()},f=()=>{_.value="",d.value=[]},x=t=>t.startsWith(`
`)?x(t.substring(1,t.length)):t,L=async()=>{await oe(),y.value.setScrollTop(C.value.clientHeight)},Y=async()=>{let t=_.value+`
 Human:`+n.value;(!_.value||n.value==="2")&&(t="Human:"+n.value),p.value=!0;const o=await R.createCompletion({model:"text-davinci-003",prompt:t,temperature:.1,max_tokens:2048,top_p:1,frequency_penalty:0,presence_penalty:0},{headers:{"Example-Header":"example","User-Agent":"'"}});if(p.value=!1,o.error)P({type:"error",message:o.error});else{_.value=t+o.choices[0].text;let i=o.choices[0].text;i=x(i),d.value.push({type:"user",text:n.value}),d.value.push({type:"ai",text:i}),n.value="",L()}};return(t,o)=>{const i=S,h=M,A=T,s=Z,B=j,b=q,X=z,N=H;return c(),g("div",ne,[ue,u("div",re,[e(X,{modelValue:E.value,"onUpdate:modelValue":o[2]||(o[2]=l=>E.value=l),type:"border-card",onTabChange:k,"tab-position":"bottom"},{default:a(()=>[e(F(J),{class:"res",ref_key:"scrollbarRef",ref:y,onScroll:K},{default:a(()=>[u("div",{ref_key:"scrollRef",ref:C},[ie,(c(!0),g(W,null,$(d.value,(l,Q)=>(c(),D(h,{key:Q,class:te(["res-item",l.type==="ai"?"ai-item":""])},{default:a(()=>[u("div",null,[l.type==="ai"?(c(),g("img",ce)):O("",!0),l.type==="user"?(c(),D(i,{key:1,class:"icon icon-user",size:30,color:"white"},{default:a(()=>[e(F(se))]),_:1})):O("",!0)]),u("div",null,ae(l.text),1)]),_:2},1032,["class"]))),128))],512)]),_:1},512),ee(u("div",pe,null,512),[[N,p.value]]),e(b,{label:"\u8FDE\u7EED\u5BF9\u8BDD\u6A21\u5F0F",name:"1"},{default:a(()=>[e(h,{class:"search"},{default:a(()=>[e(s,{span:4},{default:a(()=>[e(A,{onClick:f},{default:a(()=>[de]),_:1})]),_:1}),e(s,{span:1}),e(s,{span:14},{default:a(()=>[e(B,{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=l=>n.value=l),onKeyup:w(m,["enter","native"])},null,8,["modelValue","onKeyup"])]),_:1}),e(s,{span:1}),e(s,{span:4},{default:a(()=>[e(A,{onClick:m,type:"primary"},{default:a(()=>[_e]),_:1})]),_:1})]),_:1})]),_:1}),e(b,{label:"\u5355\u6B21\u5BF9\u8BDD\u6A21\u5F0F",name:"2"},{default:a(()=>[e(h,{class:"search"},{default:a(()=>[e(s,{span:4},{default:a(()=>[e(A,{onClick:f},{default:a(()=>[me]),_:1})]),_:1}),e(s,{span:1}),e(s,{span:14},{default:a(()=>[e(B,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=l=>n.value=l),onKeyup:w(m,["enter","native"])},null,8,["modelValue","onKeyup"])]),_:1}),e(s,{span:1}),e(s,{span:4},{default:a(()=>[e(A,{onClick:m,type:"primary"},{default:a(()=>[Ae]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])])}}});export{Re as default};
