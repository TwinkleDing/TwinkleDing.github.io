import{u as B}from"./vuex.a200b86a.js";import{j as D,k as W,b as X,m as j,a as $,T as Z}from"./element-plus.5729a83e.js";import{b as ee}from"./vue-router.e1605198.js";import{_ as V}from"./index.3b444863.js";import{a as G}from"./axios.e9656f83.js";import{k as H,u as q}from"./@element-plus.032e0b8e.js";import{d as A,b as f,o as E,c as N,S as a,Q as m,u as F,a0 as w,U as h,q as J,x as te,b5 as oe,b4 as se,a as v,V as ne,P as L,O as z}from"./@vue.669e5f5d.js";import{P as ae,a as re,u as ie,y as O,z as le,b as ue,x as ce,W as de}from"./three.96321214.js";import"./@vueuse.fb085ff4.js";import"./dayjs.66ec207c.js";import"./@intlify.679e9df6.js";import"./lodash-es.c5a0ee5e.js";import"./async-validator.5d25c98b.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.1c4ac15a.js";import"./nprogress.2355ac35.js";import"./vue-i18n.be86ef5e.js";import"./vue.e1b8ddc2.js";const me=p=>G({url:"/auth/login",method:"POST",data:p}),pe=p=>G({url:"/auth/register",method:"POST",data:p});const _e={class:"login"},ge=A({emits:["register"],setup(p,{emit:x}){const{proxy:_}=J();ee();const g=B(),i=f(""),l=f(""),r=()=>{if(!i.value){$({type:"error",message:"\u8BF7\u8F93\u5165\u8D26\u53F7\uFF01"});return}if(!l.value){$({type:"error",message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"});return}const o={username:i.value,password:l.value};me(o).then(s=>{if(s.status===200){$({type:"success",message:s.message});const n={userName:i.value,type:"user"};g.commit("SET_USER_INFO",n),c()}else $({type:"error",message:s.message})})},t=()=>{x("register")},u=()=>{const o={userName:"twinkleDing",type:"tourist"};g.commit("SET_USER_INFO",o),c()},c=()=>{Z.service({lock:!0,text:_.$t("loading"),background:"rgba(0, 0, 0, 0.7)"}),setTimeout(()=>{window.location.href="/"},1e3)};return(o,s)=>{const n=D,e=W,d=X,C=j;return E(),N("div",_e,[a(C,{ref:"form","label-width":"0px"},{default:m(()=>[a(e,null,{default:m(()=>[a(n,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=I=>i.value=I),placeholder:o.$t("login.userName"),"prefix-icon":F(H)},null,8,["modelValue","placeholder","prefix-icon"])]),_:1}),a(e,null,{default:m(()=>[a(n,{type:"password",modelValue:l.value,"onUpdate:modelValue":s[1]||(s[1]=I=>l.value=I),placeholder:o.$t("login.userPassword"),"prefix-icon":F(q)},null,8,["modelValue","placeholder","prefix-icon"])]),_:1}),a(e,{class:"login-handle"},{default:m(()=>[a(d,{type:"primary",onClick:t},{default:m(()=>[w(h(o.$t("login.register")),1)]),_:1}),a(d,{type:"primary",onClick:r},{default:m(()=>[w(h(o.$t("login.login")),1)]),_:1}),a(d,{type:"primary",onClick:u},{default:m(()=>[w(h(o.$t("login.touristsLogin")),1)]),_:1})]),_:1})]),_:1},512)])}}});var ve=V(ge,[["__scopeId","data-v-00a39d7a"]]);const fe={class:"register"},he=A({emits:["register"],setup(p,{emit:x}){const _=f(""),g=f(""),i=()=>{const r={username:_.value,password:g.value};pe(r).then(t=>{t.status===200?$({type:"success",message:t.message}):$({type:"error",message:t.message})})},l=()=>{x("register")};return(r,t)=>{const u=D,c=W,o=X,s=j;return E(),N("div",fe,[a(s,{ref:"form","label-width":"0px"},{default:m(()=>[a(c,null,{default:m(()=>[a(u,{modelValue:_.value,"onUpdate:modelValue":t[0]||(t[0]=n=>_.value=n),placeholder:r.$t("login.userName"),"prefix-icon":F(H)},null,8,["modelValue","placeholder","prefix-icon"])]),_:1}),a(c,null,{default:m(()=>[a(u,{type:"password",modelValue:g.value,"onUpdate:modelValue":t[1]||(t[1]=n=>g.value=n),placeholder:r.$t("login.userPassword"),"prefix-icon":F(q)},null,8,["modelValue","placeholder","prefix-icon"])]),_:1}),a(c,null,{default:m(()=>[a(o,{type:"primary",onClick:l},{default:m(()=>[w(h(r.$t("login.back")),1)]),_:1}),a(o,{style:{margin:"0 12px"},type:"primary",onClick:i},{default:m(()=>[w(h(r.$t("login.sure")),1)]),_:1})]),_:1})]),_:1},512)])}}});var ye=V(he,[["__scopeId","data-v-7170fbc1"]]);const we=p=>(oe("data-v-5c4e72c6"),p=p(),se(),p),xe=we(()=>v("div",{id:"model",class:"model-ca"},null,-1)),be=[xe],Pe=A({setup(p){const x=B(),_=window.innerHeight,g=window.innerWidth,i=_,l=g,r=100,t=50,u=50;let c=0,o,s,n,e,d;const C=()=>{e=new ae(75,l/i,1,1e4),e.position.z=1e3,d=new re;const b=t*u,P=new Float32Array(b*3),T=new Float32Array(b);let k=0,S=0;for(let R=0;R<t;R++)for(let M=0;M<u;M++)P[k]=R*r-t*r/2,P[k+1]=0,P[k+2]=M*r-u*r/2,T[S]=1,k+=3,S++;const y=new ie;y.setAttribute("position",new O(P,3)),y.setAttribute("scale",new O(T,1));const K=new le({uniforms:{color:{value:new ue(x.getters.systemTheme)}},vertexShader:`
                    attribute float scale;
                    void main() {
                        vec4 mvPosition = modelViewMatrix * vec4( position, 2.0 );
                        gl_PointSize = scale * ( 300.0 / - mvPosition.z );
                        gl_Position = projectionMatrix * mvPosition;
                    }
                    `,fragmentShader:`
                    uniform vec3 color;
                    void main() {
                        if ( length( gl_PointCoord - vec2( 0.5, 0.5 ) ) > 0.475 ) discard;
                        gl_FragColor = vec4( color, 1.0 );
                    }
                `});s=new ce(y,K),d.add(s),n=new de({antialias:!0}),n.setPixelRatio(window.devicePixelRatio),n.setSize(l,i),o=document.getElementById("model"),o.appendChild(n.domElement),o.style.touchAction="none",o.addEventListener("pointermove",Q),window.addEventListener("resize",I)},I=()=>{e.aspect=l/i,e.updateProjectionMatrix(),n.setSize(l,i)},Q=b=>{b.isPrimary},U=()=>{requestAnimationFrame(U),Y()},Y=()=>{e.position.x+=e.position.x*.05,e.position.y+=(200-e.position.y)*.05,e.lookAt(d.position);const b=s.geometry.attributes.position.array,P=s.geometry.attributes.scale.array;let T=0,k=0;for(let S=0;S<t;S++)for(let y=0;y<u;y++)b[T+1]=Math.sin((S+c)*.3)*50+Math.sin((y+c)*.5)*50,P[k]=(Math.sin((S+c)*.3)+1)*20+(Math.sin((y+c)*.5)+1)*20,T+=3,k++;s.geometry.attributes.position.needsUpdate=!0,s.geometry.attributes.scale.needsUpdate=!0,n.render(d,e),c+=.1};return te(()=>{C(),U()}),(b,P)=>(E(),N("div",null,be))}});var ke=V(Pe,[["__scopeId","data-v-5c4e72c6"]]);const Se={class:"login-box"},$e={class:"language"},Ee=w(" / "),Ce={class:"path"},Ie=w(" Vue Path: "),Te=["href"],Fe={class:"path"},Ve=w(" Java Path: "),Ae=["href"],Ne=A({setup(p){const{proxy:x}=J(),_=B(),g=f("https://github.com/TwinkleDing/vue-vite"),i=f("https://github.com/TwinkleDing/springboot"),l=f(_.getters.language),r=f(!1),t=f(!1),u=f("transformX"),c=e=>{x.$i18n.locale=e,l.value=e,_.commit("SET_LANGUAGE",e)},o=()=>{u.value="pause",n(()=>{r.value=!0,u.value="transformX"},600)},s=()=>{u.value="pause",n(()=>{r.value=!1,u.value="transformX"},600)},n=(e,d)=>{t.value||(t.value=setTimeout(()=>{e(),clearTimeout(t.value),t.value=!1},d))};return(e,d)=>(E(),N("div",Se,[v("div",{class:z(["login-box-content",u.value==="transformX"?"transformX":""])},[v("div",{class:"title text-center",style:ne({color:F(_).getters.systemTheme})},h(e.$t("login.title")),5),r.value?(E(),L(ye,{key:1,onRegister:s})):(E(),L(ve,{key:0,onRegister:o})),v("div",$e,[v("span",{onClick:d[0]||(d[0]=C=>c("zh")),class:z([l.value==="zh"?"language-active":""])},h(e.$t("chinese")),3),Ee,v("span",{onClick:d[1]||(d[1]=C=>c("en")),class:z([l.value==="en"?"language-active":""])},h(e.$t("english")),3)]),v("div",Ce,[Ie,v("a",{target:"_blank",href:g.value},h(g.value),9,Te)]),v("div",Fe,[Ve,v("a",{target:"_blank",href:i.value},h(i.value),9,Ae)])],2),a(ke,{class:"model"})]))}});var tt=V(Ne,[["__scopeId","data-v-247e7dd8"]]);export{tt as default};
