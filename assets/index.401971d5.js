import{D as V,b as x,F as k,u as I,G as N,n as U,a as d}from"./element-plus.5729a83e.js";import{u as R}from"./vuex.a200b86a.js";import{_ as P}from"./index.3b444863.js";import{d as z,b as A,Y as m,x as L,o as M,c as O,S as t,Q as o,a as u,u as _,U as G,M as $,b5 as Q,b4 as Y,a0 as r}from"./@vue.669e5f5d.js";import"./@vueuse.fb085ff4.js";import"./dayjs.66ec207c.js";import"./@intlify.679e9df6.js";import"./lodash-es.c5a0ee5e.js";import"./async-validator.5d25c98b.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.1c4ac15a.js";import"./vue-router.e1605198.js";import"./axios.e9656f83.js";import"./nprogress.2355ac35.js";import"./vue-i18n.be86ef5e.js";import"./vue.e1b8ddc2.js";const j=p=>(Q("data-v-67e6dfac"),p=p(),Y(),p),q=j(()=>u("div",null,"\u7528\u6237\u5217\u8868",-1)),H=r(" \u6743\u9650\u9875\u9762\u8BBE\u7F6E "),J=r(" \u6062\u590D "),K=r(" \u67E5\u770B\u6743\u9650 "),W={class:"custom-tree-node"},X={class:"dialog-footer"},Z=r("\u53D6\u6D88"),ee=r("\u786E\u5B9A"),te=z({setup(p){const l=R(),n=A(!1),b=m({children:"children",label:"name"}),f=m({}),g=m([{userId:"TwinkleDing",userName:"TwinkleDing",description:"\u6E38\u5BA2\u8D26\u53F7"}]),E=e=>{e.map(s=>(s.children&&E(s.children),s))},v=()=>{n.value=!0,l.dispatch("router").then(e=>{f.value=E(e)})},w=e=>{console.log(e.meta&&e.meta.permission)},y=()=>{n.value=!1},B=async()=>{let e=[...await l.dispatch("getRouteList")];e.length>3?(e.splice(1,1),d({type:"success",message:"\u8DEF\u7531\u8BBE\u7F6E\u6210\u529F\uFF0C\u5C06\u5237\u65B0\u9875\u9762"}),setTimeout(()=>{l.commit("SET_ROUTE_LIST",e),window.location.reload()},1e3)):d({type:"error",message:"\u65E0\u6CD5\u7EE7\u7EED\u8BBE\u7F6E\u8DEF\u7531\u6743\u9650"})},D=async()=>{let e=[...await l.dispatch("router")];d({type:"success",message:"\u8DEF\u7531\u6062\u590D\u6210\u529F\uFF0C\u5C06\u5237\u65B0\u9875\u9762"}),setTimeout(()=>{l.commit("SET_ROUTE_LIST",e),window.location.reload()},1e3)};return L(()=>{}),(e,s)=>{const c=V,i=x,C=k,F=I,T=N,S=U;return M(),O($,null,[q,t(C,{data:_(g),style:{width:"100%"}},{default:o(()=>[t(c,{prop:"userId",label:"userId",width:"180"}),t(c,{prop:"userName",label:"userName",width:"180"}),t(c,{prop:"description",label:"description"}),t(c,{label:"Operations"},{default:o(()=>[u("template",null,[t(i,{type:"primary",size:"small",onClick:B},{default:o(()=>[H]),_:1}),t(i,{type:"success",size:"small",onClick:D},{default:o(()=>[J]),_:1}),t(i,{type:"primary",size:"small",onClick:v},{default:o(()=>[K]),_:1})])]),_:1})]),_:1},8,["data"]),t(S,{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=a=>n.value=a),title:"\u6743\u9650\u7BA1\u7406",width:"600px","destroy-on-close":!0},{footer:o(()=>[u("span",X,[t(i,{onClick:s[0]||(s[0]=a=>n.value=!1)},{default:o(()=>[Z]),_:1}),t(i,{type:"primary",onClick:y},{default:o(()=>[ee]),_:1})])]),default:o(()=>[t(T,{data:_(f).value,props:_(b)},{default:o(({data:a})=>[u("span",W,[u("span",null,G(a.meta.label),1),u("span",null,[t(F,{disabled:a.name.includes("home"),modelValue:a.meta.permission,"onUpdate:modelValue":h=>a.meta.permission=h,onChange:h=>w(a)},null,8,["disabled","modelValue","onUpdate:modelValue","onChange"])])])]),_:1},8,["data","props"])]),_:1},8,["modelValue"])],64)}}});var ve=P(te,[["__scopeId","data-v-67e6dfac"]]);export{ve as default};
