import{b as L,y as S,C as $,A as T,D as k,a as p,F as I}from"./element-plus.cac48fb9.js";import{B as m,_ as P}from"./index.51c7bd3f.js";import{a as d}from"./axios.e9656f83.js";import{d as M,Y as _,C as U,o as N,c as V,a as E,S as o,Q as c,u,b5 as j,b4 as q,a0 as f,U as G,q as Q}from"./@vue.669e5f5d.js";import"./@vueuse.fb085ff4.js";import"./dayjs.810e77a2.js";import"./@intlify.7d747563.js";import"./lodash-es.c5a0ee5e.js";import"./async-validator.5d25c98b.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.1c4ac15a.js";import"./vuex.a200b86a.js";import"./vue-router.e1605198.js";import"./nprogress.1a08f112.js";import"./vue-i18n.4281b29d.js";import"./vue.d4014e03.js";const R=n=>d({url:`${m}/api/systemLog`,method:"GET",params:n}),Y=n=>d({url:`${m}/api/systemLog`,method:"DELETE",data:n}),H=n=>d({url:`${m}/api/systemLog/deleteSelect`,method:"DELETE",data:n}),J=()=>d({url:`${m}/api/systemLog/deleteAll`,method:"DELETE"});const K=n=>(j("data-v-7e9c25ae"),n=n(),q(),n),O={class:"system-log"},W=K(()=>E("div",null,"\u7CFB\u7EDF\u65E5\u5FD7",-1)),X={class:"setting"},Z=f("\u6279\u91CF\u5220\u9664"),ee=f("\u5168\u90E8\u5220\u9664"),te={class:"pagination"},se=M({setup(n){const{proxy:h}=Q(),b=_({list:[]}),s=_({number:1,size:10,total:0,sizes:[10,50,100,200]}),g=_({list:[]}),r=()=>{const e={number:s.number,size:s.size};R(e).then(t=>{s.total=t.data.total,b.list=t.data.list})},C=()=>{s.number=1,r()},B=()=>r(),F=e=>{Y(e).then(t=>{t.status===200&&(s.number=1,p({type:"success",message:t.message}),r())})},x=()=>{J().then(e=>{e.status===200?(s.number=1,p({type:"success",message:e.message}),r()):p({type:"warning",message:e.message})})},v=()=>{const t=g.list.map(a=>a.id);H(t).then(a=>{a.status===200?(s.number=1,p({type:"success",message:a.message}),r()):p({type:"warning",message:a.message})})},y=e=>{if(e==="selected"&&g.list.length===0){p({type:"warning",message:"\u60A8\u8FD8\u672A\u9009\u62E9\u4EFB\u4F55\u4E00\u9879\uFF01"});return}I.confirm("\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u4E9B\u6570\u636E\u4E48?","\u8B66\u544A",{confirmButtonText:h.$t("confirm"),cancelButtonText:h.$t("cancel"),type:"warning"}).then(()=>{e==="selected"?v():x()})},z=e=>{g.list=e};return U(()=>{r()}),(e,t)=>{const a=L,i=S,A=$,w=T,D=k;return N(),V("div",O,[W,E("div",X,[o(a,{type:"primary",onClick:t[0]||(t[0]=l=>y("selected"))},{default:c(()=>[Z]),_:1}),o(a,{type:"primary",onClick:t[1]||(t[1]=l=>y("all"))},{default:c(()=>[ee]),_:1})]),o(w,{data:u(b).list,stripe:"","max-height":"684",onSelectionChange:z},{default:c(()=>[o(i,{type:"selection",width:"55"}),o(i,{prop:"createBy",label:"\u521B\u5EFA\u8005",width:"180"}),o(i,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4",width:"180"}),o(i,{prop:"ip",label:"IP\u5730\u5740",width:"100"}),o(i,{prop:"logType",label:"\u65E5\u5FD7\u7C7B\u578B",width:"100"}),o(i,{prop:"logContent",label:"\u65E5\u5FD7\u5185\u5BB9"}),o(i,{label:"\u64CD\u4F5C",width:"100"},{default:c(l=>[o(A,{title:"\u786E\u5B9A\u5220\u9664\u5417?","confirm-button-text":e.$t("confirm"),"cancel-button-text":e.$t("cancel"),onConfirm:oe=>F(l.row.id)},{reference:c(()=>[o(a,{link:"",type:"primary"},{default:c(()=>[f(G(e.$t("delete")),1)]),_:1})]),_:2},1032,["confirm-button-text","cancel-button-text","onConfirm"])]),_:1})]),_:1},8,["data"]),E("div",te,[o(D,{align:"right",currentPage:u(s).number,"onUpdate:currentPage":t[2]||(t[2]=l=>u(s).number=l),"page-size":u(s).size,"onUpdate:page-size":t[3]||(t[3]=l=>u(s).size=l),"page-sizes":u(s).sizes,background:"",layout:"total, sizes, prev, pager, next, jumper",total:u(s).total,onSizeChange:C,onCurrentChange:B},null,8,["currentPage","page-size","page-sizes","total"])])])}}});var Be=P(se,[["__scopeId","data-v-7e9c25ae"]]);export{Be as default};
