var _e=Object.defineProperty;var pe=(c,s,e)=>s in c?_e(c,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):c[s]=e;var S=(c,s,e)=>(pe(c,typeof s!="symbol"?s+"":s,e),e);import{u as V}from"./vuex.a200b86a.js";import{u as B,b as X}from"./vue-router.e1605198.js";import{H as fe,I as he,J as ve,K as ge,L as ye,h as Te,q as Ee,r as we,u as Ce,i as Se,M as $e,N as be,O as xe,P as ke,F as Ie,a as Me,Q as Le}from"./element-plus.cac48fb9.js";import{l as Oe,A as Pe,H as Ve,S as Re,_ as G}from"./index.640e1c31.js";import{m as De,c as Ae,h as He,a as Ue,b as Be,d as Ne,p as ze,e as Ye,o as Fe,v as Xe,f as Ge,g as je,i as qe,j as Qe}from"./@element-plus.2b618b59.js";import{d as O,Y as j,X as Z,o as r,c as m,M,a3 as U,P as I,Q as l,a as d,R as K,U as T,V as N,u as t,L as $,S as n,O as A,b as w,x as ee,q as te,a0 as x,D as Je,b5 as Ke,b4 as We,p as Ze,a5 as et}from"./@vue.669e5f5d.js";import"./@vueuse.fb085ff4.js";import"./dayjs.810e77a2.js";import"./@intlify.7d747563.js";import"./lodash-es.c5a0ee5e.js";import"./async-validator.5d25c98b.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.1c4ac15a.js";import"./axios.e9656f83.js";import"./nprogress.1a08f112.js";import"./vue-i18n.4281b29d.js";import"./vue.d4014e03.js";const tt={class:"menu-icon"},st={class:"menu-icon"},ot=O({props:{menu:{type:Array,default:()=>[]}},setup(c){const s=c,e=B(),v=X(),E=j(s.menu),_=V(),g={Menu:De,Coordinate:Ae,Help:He,Histogram:Ue,Setting:Be,School:Ne,Postcard:ze,PieChart:Ye,Opportunity:Fe,VideoCameraFilled:Xe},C=i=>{e.name!==i.name&&v.push(i.path)};return(i,f)=>{const p=fe,u=Z("menu-item",!0),y=he;return r(),m("div",{class:A([t(_).getters.menuPosition?"":"flex","menu-item"])},[(r(!0),m(M,null,U(t(E),a=>(r(),m(M,{key:a.name},[!a.children||!a.children.length?(r(),I(p,{key:0,class:"menu-item-item",index:a.name,style:N({background:t(_).getters.menuPosition?a.path.includes(t(e).name)?t(_).getters.systemTheme:"":a.path.includes(t(e).name)?t(Oe)(t(_).getters.headerTheme,30):"",color:t(_).getters.menuPosition&&a.path.includes(t(e).name)?"#fff":""}),onClick:k=>C(a)},{title:l(()=>[d("div",tt,[(r(),I(K(g[a.meta.icon])))]),d("span",null,T(i.$t(a.name)),1)]),_:2},1032,["index","style","onClick"])):$("",!0),a.children&&a.children.length?(r(),I(y,{key:1,index:a.name},{title:l(()=>[d("div",st,[(r(),I(K(g[a.meta.icon])))]),d("span",null,T(i.$t(a.name)),1)]),default:l(()=>[n(u,{menu:a.children},null,8,["menu"])]),_:2},1032,["index"])):$("",!0)],64))),128))],2)}}});const W=O({props:{menuList:{type:Array,default:()=>[]}},setup(c){const s=c;B();const e=V(),v=j(s.menuList);return(E,_)=>{const g=ve;return r(),I(g,{class:"left-menu scrollbar header-scrollbar-color","text-color":t(e).getters.menuTheme==="#ffffff"?"#303133":"#ffffffA6",style:N({background:t(e).getters.menuPosition?t(e).getters.menuTheme+"!important":"transform"}),mode:t(e).getters.menuPosition?"vertical":"horizontal","active-text-color":"#ffffff","default-active":t(e).getters.currentRoute.name,"collapse-transition":!1,ellipsis:!1,collapse:!1},{default:l(()=>[n(ot,{menu:t(v)},null,8,["menu"])]),_:1},8,["text-color","style","mode","default-active"])}}});const nt={class:"prefix-cls"},at=["onClick"],F=O({props:{colorList:{type:Array,default:()=>[]},def:{type:String,default:""}},setup(c){const s=c,{proxy:e}=te(),v=w(s.def||s.colorList[0]),E=w("#ffffff"),_=()=>{v.value==="#ffffff"?E.value="#000000":E.value="#ffffff"},g=C=>{v.value=C,_(),e.$emit("change",C)};return ee(()=>{_()}),(C,i)=>(r(),m("div",nt,[(r(!0),m(M,null,U(c.colorList||[],f=>(r(),m("span",{key:f,onClick:p=>g(f),class:A(["prefix-cls__item",{["prefix-cls__item--active"]:v.value===f}]),style:N({background:f})},[n(t(Ge),{color:E.value},null,8,["color"])],14,at))),128))]))}});class lt{constructor(){S(this,"timer");S(this,"downTime");S(this,"down");S(this,"offsetX");S(this,"offsetY");S(this,"x");S(this,"y");S(this,"mouseDown",s=>{this.downTime=new Date().getTime(),this.down=!0,this.offsetX=s.offsetX,this.offsetY=s.offsetY});S(this,"mouseMove",s=>new Promise(e=>{clearTimeout(this.timer),this.down&&(this.x=s.clientX-this.offsetX+"px",this.y=s.clientY-this.offsetY+"px",e({x:this.x,y:this.y}))}));S(this,"mouseOut",()=>{this.timer=setTimeout(()=>{this.down=!1},500)});S(this,"mouseUp",()=>new Promise(s=>{if(clearTimeout(this.timer),new Date().getTime()-this.downTime<300){s({drawer:!0});return}this.down=!1,s({x:this.x,y:this.y})}));this.timer=null,this.downTime=0,this.down=!1,this.offsetX=0,this.offsetY=0,this.x="200px",this.y="60px"}}const rt={class:"interface-set"},ut=O({setup(c){const{proxy:s}=te(),e=V(),v=w(e.getters.tabsShow),E=w(e.getters.menuPosition),_=w(e.getters.tabsType),g=w(e.getters.language==="zh"),C=Pe,i=Ve,f=Re,p=e.getters.systemTheme,u=e.getters.headerTheme,y=e.getters.menuTheme,a=new lt,k=w(a.x),P=w(a.y),R=w(!1),D=w(g.value?"rtl":"ltr"),se=o=>{a.mouseDown(o)},q=a.mouseOut,oe=async o=>{const h=await a.mouseMove(o);k.value=h.x,P.value=h.y},ne=async()=>{const o=await a.mouseUp();if(o.drawer){R.value=!0;return}k.value=o.x,P.value=o.y,e.commit("SET_SYSTEM_ICON_POSITION",{x:o.x,y:o.y})},ae=o=>{e.commit("SET_SYSTEM_THEME",o)},Q=o=>{e.commit("SET_MENU_THEME",o)},le=o=>{e.commit("SET_HEADER_THEME",o)},re=o=>{e.commit("SET_TABS_SHOW",o)},ue=o=>{e.commit("SET_TABS_TYPE",o)},ie=o=>{e.commit("SET_MENU_POSITION",o),o||Q(f[0])},ce=o=>{const h=o?"zh":"en";s.$i18n.locale=h,g.value=o,o?D.value="rtl":D.value="ltr",e.commit("SET_LANGUAGE",h)};return ee(()=>{const o=e.getters.systemIcon;e.getters.systemIcon&&(k.value=o.x,P.value=o.y)}),(o,h)=>{const H=ge,L=Te,J=Ee,me=we,z=Ce,Y=Se,de=ye;return r(),m(M,null,[d("div",{class:"system-setting",style:N({left:k.value,top:P.value})},[d("div",{class:"box",onMousedown:se,onMousemove:oe,onMouseup:ne,onMouseout:h[0]||(h[0]=(...b)=>t(q)&&t(q)(...b))},null,32),n(t(je),{class:"icon"})],4),n(de,{modelValue:R.value,"onUpdate:modelValue":h[5]||(h[5]=b=>R.value=b),size:"350px","custom-class":"system-drawer",direction:D.value},{title:l(()=>[d("h3",null,T(o.$t("system")),1)]),default:l(()=>[d("div",null,[n(H,{class:"title"},{default:l(()=>[x(T(o.$t("systemTheme")),1)]),_:1}),n(F,{colorList:t(C),def:t(p),onChange:ae},null,8,["colorList","def"]),n(H,{class:"title"},{default:l(()=>[x(T(o.$t("headerTheme")),1)]),_:1}),n(F,{colorList:t(i),def:t(u),onChange:le},null,8,["colorList","def"]),t(e).getters.menuPosition?(r(),m(M,{key:0},[n(H,{class:"title"},{default:l(()=>[x(T(o.$t("menuTheme")),1)]),_:1}),n(F,{colorList:t(f),def:t(y),onChange:Q},null,8,["colorList","def"])],64)):$("",!0)]),d("div",rt,[n(H,{class:"title"},{default:l(()=>[x(T(o.$t("interfaceSettings")),1)]),_:1}),n(Y,{class:"row"},{default:l(()=>[n(L,{span:v.value?8:16},{default:l(()=>[x(T(o.$t("labelTab")),1)]),_:1},8,["span"]),v.value?(r(),I(L,{key:0,span:8,align:"center"},{default:l(()=>[n(me,{modelValue:_.value,"onUpdate:modelValue":h[1]||(h[1]=b=>_.value=b),onChange:ue,placeholder:"Select",size:"small"},{default:l(()=>[n(J,{label:o.$t("tabSimple"),value:1},null,8,["label"]),n(J,{label:o.$t("tabCard"),value:2},null,8,["label"])]),_:1},8,["modelValue"])]),_:1})):$("",!0),n(L,{span:8,align:"center"},{default:l(()=>[n(z,{modelValue:v.value,"onUpdate:modelValue":h[2]||(h[2]=b=>v.value=b),onChange:re},null,8,["modelValue"])]),_:1})]),_:1}),n(Y,{class:"row"},{default:l(()=>[n(L,{span:16},{default:l(()=>[x(T(o.$t("menuPosition")),1)]),_:1}),n(L,{span:8,align:"center"},{default:l(()=>[n(z,{"inline-prompt":"","active-text":"\u{1F448}","inactive-text":"\u{1F446}","inactive-color":t(e).getters.systemTheme,modelValue:E.value,"onUpdate:modelValue":h[3]||(h[3]=b=>E.value=b),onChange:ie},null,8,["inactive-color","modelValue"])]),_:1})]),_:1}),n(Y,{class:"row"},{default:l(()=>[n(L,{span:16},{default:l(()=>[x(T(o.$t("language")),1)]),_:1}),n(L,{span:8,align:"center"},{default:l(()=>[n(z,{"inline-prompt":"","active-text":o.$t("chinese"),"inactive-text":o.$t("english"),"inactive-color":t(e).getters.systemTheme,modelValue:g.value,"onUpdate:modelValue":h[4]||(h[4]=b=>g.value=b),onChange:ce},null,8,["active-text","inactive-text","inactive-color","modelValue"])]),_:1})]),_:1})])]),_:1},8,["modelValue","direction"])],64)}}});const it=c=>(Ke("data-v-53f826ce"),c=c(),We(),c),ct={class:"pages-header"},mt=it(()=>d("div",{class:"header-background"},null,-1)),dt={class:"logo"},_t=["src"],pt={key:0,class:"menu-top"},ft={class:"avatar"},ht=O({setup(c){var f,p;const s=V(),e=X(),v=j(s.getters.userInfo),E=w("default"),_=w("https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"),g=w((f=window.config)==null?void 0:f.title),C=w((p=window.config)==null?void 0:p.logo),i=u=>{u===1?e.push("my"):u===2&&Ie.confirm("\u662F\u5426\u786E\u8BA4\u9000\u51FA\u767B\u5F55?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{e.push("login").then(()=>{s.commit("REMOVE_ROUTER_LIST"),Me({type:"success",message:"\u9000\u51FA\u6210\u529F"})})}).catch(()=>{})};return(u,y)=>{const a=$e,k=be,P=xe,R=ke;return r(),m("div",ct,[mt,d("div",dt,[d("img",{src:C.value,alt:"",srcset:""},null,8,_t),d("i",null,T(g.value),1)]),t(s).getters.menuPosition?$("",!0):(r(),m("div",pt,[Je(u.$slots,"menu",{},void 0,!0)])),n(R,{placement:"bottom-end"},{dropdown:l(()=>[n(P,null,{default:l(()=>[n(k,{onClick:y[0]||(y[0]=D=>i(1))},{default:l(()=>[x(T(u.$t("myInfo")),1)]),_:1}),n(k,{onClick:y[1]||(y[1]=D=>i(2))},{default:l(()=>[x(T(u.$t("logout")),1)]),_:1})]),_:1})]),default:l(()=>[d("div",ft,[d("span",null,T(t(v).userName),1),n(a,{size:E.value,src:_.value},null,8,["size","src"])])]),_:1})])}}});var vt=G(ht,[["__scopeId","data-v-53f826ce"]]);const gt={key:0,class:"router-history router-history-simple scrollbar"},yt={key:0,class:"current-router"},Tt=["onClick"],Et={key:1},wt={key:1,class:"router-history router-history-card scrollbar"},Ct=["onClick"],St=O({setup(c){const s=V(),e=B(),v=X(),E=Ze(()=>{const i=s.getters.routeHistory,f=_(s.getters.routeList,[]);let p=[];return i.map(u=>{f.map(y=>{y.path===u.path&&p.push(u)})}),s.commit("SET_ROUTE_HISTORY",p),p}),_=(i,f)=>(i.map(p=>(p.children?_(p.children,f):f.push(p),p)),f),g=i=>v.push(i),C=i=>{s.commit("REMOVE_ROUTE_HISTORY_INDEX",i)};return(i,f)=>{const p=Le;return r(),m(M,null,[t(s).getters.tabsType===1?(r(),m("div",gt,[(r(!0),m(M,null,U(t(E),(u,y)=>(r(),m("div",{class:A(["item",t(e).path===u.path?"router-history-active":""]),key:y},[t(e).path===u.path?(r(),m("b",yt)):$("",!0),d("span",{onClick:a=>g(u.path)},T(i.$t(u.label)),9,Tt),u.path.includes("home")?$("",!0):(r(),m("span",Et,[n(p,{size:16,color:t(e).path===u.path?"#fff":"#495060",onClick:a=>C(y)},{default:l(()=>[n(t(qe))]),_:2},1032,["color","onClick"])]))],2))),128))])):$("",!0),t(s).getters.tabsType===2?(r(),m("div",wt,[(r(!0),m(M,null,U(t(E),(u,y)=>(r(),m("div",{class:A(["item",t(e).path===u.path?"router-history-active":""]),key:y},[d("span",{class:"router-history-name",onClick:a=>g(u.path)},T(i.$t(u.label)),9,Ct),u.path.includes("home")?$("",!0):(r(),I(p,{key:0,size:16,color:"#fff",onClick:a=>C(y)},{default:l(()=>[n(t(Qe))]),_:2},1032,["onClick"]))],2))),128))])):$("",!0)],64)}}});var $t=G(St,[["__scopeId","data-v-56a689a8"]]);const bt={class:"pages"},xt={class:"pages-content"},kt={key:0,class:"pages-left"},It={class:"pages-right"},Mt=O({setup(c){const s=V();B();const e=[...s.getters.routeList];return(v,E)=>{const _=Z("router-view");return r(),m("div",bt,[n(vt,null,et({_:2},[t(s).getters.menuPosition?void 0:{name:"menu",fn:l(()=>[n(W,{menuList:e})])}]),1024),d("div",xt,[t(s).getters.menuPosition?(r(),m("div",kt,[n(W,{menuList:e})])):$("",!0),d("div",It,[t(s).getters.tabsShow?(r(),I($t,{key:0})):$("",!0),d("div",{class:A(["right-content",!t(s).getters.tabsShow||"mg-t-40","scrollbar"])},[n(_)],2)])]),n(ut)])}}});var Kt=G(Mt,[["__scopeId","data-v-363a5543"]]);export{Kt as default};
