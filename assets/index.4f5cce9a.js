import{u as B}from"./vuex.a200b86a.js";import{d as D,i as W,b as X,k as G,a as S,R as Z}from"./element-plus.840869d5.js";import{b as ee}from"./vue-router.e1605198.js";import{_ as A}from"./index.cdf17b23.js";import{a as j}from"./axios.e9656f83.js";import{k as H,u as q}from"./@element-plus.032e0b8e.js";import{d as N,b as v,o as C,c as I,S as a,Q as m,u as V,a0 as x,U as f,q as J,x as te,a as g,V as oe,P as L,O as z}from"./@vue.669e5f5d.js";import{P as se,a as ne,u as ae,y as O,z as re,b as ie,x as le,W as ue}from"./three.96321214.js";import"./@vueuse.fb085ff4.js";import"./dayjs.810e77a2.js";import"./@intlify.7d747563.js";import"./lodash-es.b8baee12.js";import"./async-validator.5d25c98b.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.1c4ac15a.js";import"./nprogress.1a08f112.js";import"./vue-i18n.4281b29d.js";import"./vue.d4014e03.js";const ce=b=>j({url:"/auth/login",method:"POST",data:b}),de=b=>j({url:"/auth/register",method:"POST",data:b});const me={class:"login"},pe=N({emits:["register"],setup(b,{emit:k}){const{proxy:p}=J();ee();const _=B(),i=v(""),l=v(""),r=()=>{if(!i.value){S({type:"error",message:"\u8BF7\u8F93\u5165\u8D26\u53F7\uFF01"});return}if(!l.value){S({type:"error",message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"});return}const o={username:i.value,password:l.value};ce(o).then(s=>{if(s.status===200){S({type:"success",message:s.message});const n={userName:i.value,type:"user"};_.commit("SET_USER_INFO",n),c()}else S({type:"error",message:s.message})})},t=()=>{k("register")},u=()=>{const o={userName:"twinkleDing",type:"tourist"};_.commit("SET_USER_INFO",o),c()},c=()=>{Z.service({lock:!0,text:p.$t("loading"),background:"rgba(0, 0, 0, 0.7)"}),setTimeout(()=>{window.location.href="/"},1e3)};return(o,s)=>{const n=D,e=W,d=X,F=G;return C(),I("div",me,[a(F,{ref:"form","label-width":"0px"},{default:m(()=>[a(e,null,{default:m(()=>[a(n,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=T=>i.value=T),placeholder:o.$t("login.userName"),"prefix-icon":V(H)},null,8,["modelValue","placeholder","prefix-icon"])]),_:1}),a(e,null,{default:m(()=>[a(n,{type:"password",modelValue:l.value,"onUpdate:modelValue":s[1]||(s[1]=T=>l.value=T),placeholder:o.$t("login.userPassword"),"prefix-icon":V(q)},null,8,["modelValue","placeholder","prefix-icon"])]),_:1}),a(e,{class:"login-handle"},{default:m(()=>[a(d,{type:"primary",onClick:t},{default:m(()=>[x(f(o.$t("login.register")),1)]),_:1}),a(d,{type:"primary",onClick:r},{default:m(()=>[x(f(o.$t("login.login")),1)]),_:1}),a(d,{type:"primary",onClick:u},{default:m(()=>[x(f(o.$t("login.touristsLogin")),1)]),_:1})]),_:1})]),_:1},512)])}}});var _e=A(pe,[["__scopeId","data-v-00a39d7a"]]);const ge={class:"register"},ve=N({emits:["register"],setup(b,{emit:k}){const p=v(""),_=v(""),i=()=>{const r={username:p.value,password:_.value};de(r).then(t=>{t.status===200?S({type:"success",message:t.message}):S({type:"error",message:t.message})})},l=()=>{k("register")};return(r,t)=>{const u=D,c=W,o=X,s=G;return C(),I("div",ge,[a(s,{ref:"form","label-width":"0px"},{default:m(()=>[a(c,null,{default:m(()=>[a(u,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=n=>p.value=n),placeholder:r.$t("login.userName"),"prefix-icon":V(H)},null,8,["modelValue","placeholder","prefix-icon"])]),_:1}),a(c,null,{default:m(()=>[a(u,{type:"password",modelValue:_.value,"onUpdate:modelValue":t[1]||(t[1]=n=>_.value=n),placeholder:r.$t("login.userPassword"),"prefix-icon":V(q)},null,8,["modelValue","placeholder","prefix-icon"])]),_:1}),a(c,null,{default:m(()=>[a(o,{type:"primary",onClick:l},{default:m(()=>[x(f(r.$t("login.back")),1)]),_:1}),a(o,{style:{margin:"0 12px"},type:"primary",onClick:i},{default:m(()=>[x(f(r.$t("login.sure")),1)]),_:1})]),_:1})]),_:1},512)])}}});var fe=A(ve,[["__scopeId","data-v-7170fbc1"]]);const ye=N({setup(b){const k=B(),p=window.innerHeight,_=window.innerWidth,i=p,l=_,r=100,t=50,u=50;let c=0,o,s,n,e,d;const F=()=>{e=new se(75,l/i,1,1e4),e.position.z=1e3,d=new ne;const y=t*u,h=new Float32Array(y*3),P=new Float32Array(y);let E=0,$=0;for(let R=0;R<t;R++)for(let M=0;M<u;M++)h[E]=R*r-t*r/2,h[E+1]=0,h[E+2]=M*r-u*r/2,P[$]=1,E+=3,$++;const w=new ae;w.setAttribute("position",new O(h,3)),w.setAttribute("scale",new O(P,1));const Y=new re({uniforms:{color:{value:new ie(k.getters.systemTheme)}},vertexShader:`
                    attribute float scale;
                    void main() {
                        vec4 mvPosition = modelViewMatrix * vec4( position, 2.0 );
                        gl_PointSize = scale * ( 300.0 / - mvPosition.z );
                        gl_Position = projectionMatrix * mvPosition;
                    }
                    `,fragmentShader:`
                    uniform vec3 color;
                    void main() {
                        if ( length( gl_PointCoord - vec2( 0.5, 0.5 ) ) > 0.475 ) discard;
                        gl_FragColor = vec4( color, 1.0 );
                    }
                `});s=new le(w,Y),d.add(s),n=new ue({antialias:!0}),n.setPixelRatio(window.devicePixelRatio),n.setSize(l,i),o=document.getElementById("model"),o.appendChild(n.domElement),o.style.touchAction="none",o.addEventListener("pointermove",K),window.addEventListener("resize",T)},T=()=>{e.aspect=l/i,e.updateProjectionMatrix(),n.setSize(l,i)},K=y=>{y.isPrimary},U=()=>{requestAnimationFrame(U),Q()},Q=()=>{e.position.x+=e.position.x*.05,e.position.y+=(200-e.position.y)*.05,e.lookAt(d.position);const y=s.geometry.attributes.position.array,h=s.geometry.attributes.scale.array;let P=0,E=0;for(let $=0;$<t;$++)for(let w=0;w<u;w++)y[P+1]=Math.sin(($+c)*.3)*50+Math.sin((w+c)*.5)*50,h[E]=(Math.sin(($+c)*.3)+1)*20+(Math.sin((w+c)*.5)+1)*20,P+=3,E++;s.geometry.attributes.position.needsUpdate=!0,s.geometry.attributes.scale.needsUpdate=!0,n.render(d,e),c+=.1};return te(()=>{F(),U()}),(y,h)=>(C(),I("div",null,[g("div",{id:"model",class:"model-ca",onKeydown:h[0]||(h[0]=(...P)=>y.keyDown&&y.keyDown(...P))},null,32)]))}});var he=A(ye,[["__scopeId","data-v-5c4e72c6"]]);const we={class:"login-box"},xe={class:"language"},be=x(" / "),ke={class:"path"},Pe=x(" Vue Path: "),Ee=["href"],$e={class:"path"},Se=x(" Java Path: "),Ce=["href"],Fe=N({setup(b){const{proxy:k}=J(),p=B(),_=v("https://github.com/TwinkleDing/vue-vite"),i=v("https://github.com/TwinkleDing/springboot"),l=v(p.getters.language),r=v(!1),t=v(!1),u=v("transformX"),c=e=>{k.$i18n.locale=e,l.value=e,p.commit("SET_LANGUAGE",e)},o=()=>{u.value="pause",n(()=>{r.value=!0,u.value="transformX"},600)},s=()=>{u.value="pause",n(()=>{r.value=!1,u.value="transformX"},600)},n=(e,d)=>{t.value||(t.value=setTimeout(()=>{e(),clearTimeout(t.value),t.value=!1},d))};return(e,d)=>(C(),I("div",we,[g("div",{class:z(["login-box-content",u.value==="transformX"?"transformX":""])},[g("div",{class:"title text-center",style:oe({color:V(p).getters.systemTheme})},f(e.$t("login.title")),5),r.value?(C(),L(fe,{key:1,onRegister:s})):(C(),L(_e,{key:0,onRegister:o})),g("div",xe,[g("span",{onClick:d[0]||(d[0]=F=>c("zh")),class:z([l.value==="zh"?"language-active":""])},f(e.$t("chinese")),3),be,g("span",{onClick:d[1]||(d[1]=F=>c("en")),class:z([l.value==="en"?"language-active":""])},f(e.$t("english")),3)]),g("div",ke,[Pe,g("a",{target:"_blank",href:_.value},f(_.value),9,Ee)]),g("div",$e,[Se,g("a",{target:"_blank",href:i.value},f(i.value),9,Ce)])],2),a(he,{class:"model"})]))}});var Ke=A(Fe,[["__scopeId","data-v-247e7dd8"]]);export{Ke as default};
