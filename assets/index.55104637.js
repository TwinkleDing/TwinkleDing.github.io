import{A as V,b as x,B as k,s as I,C as N,l as U,a as d}from"./element-plus.840869d5.js";import{u as R}from"./vuex.a200b86a.js";import{_ as A}from"./index.cdf17b23.js";import{d as P,b as z,Y as m,x as L,o as M,c as O,S as e,Q as o,a as u,u as _,U as $,M as Q,b5 as Y,b4 as j,a0 as r}from"./@vue.669e5f5d.js";import"./@vueuse.fb085ff4.js";import"./dayjs.810e77a2.js";import"./@intlify.7d747563.js";import"./lodash-es.b8baee12.js";import"./async-validator.5d25c98b.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.1c4ac15a.js";import"./vue-router.e1605198.js";import"./axios.e9656f83.js";import"./nprogress.1a08f112.js";import"./vue-i18n.4281b29d.js";import"./vue.d4014e03.js";const q=p=>(Y("data-v-67e6dfac"),p=p(),j(),p),G=q(()=>u("div",null,"\u7528\u6237\u5217\u8868",-1)),H=r(" \u6743\u9650\u9875\u9762\u8BBE\u7F6E "),J=r(" \u6062\u590D "),K=r(" \u67E5\u770B\u6743\u9650 "),W={class:"custom-tree-node"},X={class:"dialog-footer"},Z=r("\u53D6\u6D88"),ee=r("\u786E\u5B9A"),te=P({setup(p){const l=R(),n=z(!1),b=m({children:"children",label:"name"}),f=m({}),g=m([{userId:"TwinkleDing",userName:"TwinkleDing",description:"\u6E38\u5BA2\u8D26\u53F7"}]),v=()=>{n.value=!0,l.dispatch("router").then(t=>{f.value=E(t)})},E=t=>t.map(s=>(s.children&&E(s.children),s)),w=t=>{console.log(t.meta.permission)},y=()=>{n.value=!1},B=async()=>{let t=[...await l.dispatch("getRouteList")];t.length>3?(t.splice(1,1),d({type:"success",message:"\u8DEF\u7531\u8BBE\u7F6E\u6210\u529F\uFF0C\u5C06\u5237\u65B0\u9875\u9762"}),setTimeout(()=>{l.commit("SET_ROUTE_LIST",t),window.location.reload()},1e3)):d({type:"error",message:"\u65E0\u6CD5\u7EE7\u7EED\u8BBE\u7F6E\u8DEF\u7531\u6743\u9650"})},C=async()=>{let t=[...await l.dispatch("router")];d({type:"success",message:"\u8DEF\u7531\u6062\u590D\u6210\u529F\uFF0C\u5C06\u5237\u65B0\u9875\u9762"}),setTimeout(()=>{l.commit("SET_ROUTE_LIST",t),window.location.reload()},1e3)};return L(()=>{}),(t,s)=>{const c=V,i=x,D=k,F=I,T=N,S=U;return M(),O(Q,null,[G,e(D,{data:_(g),style:{width:"100%"}},{default:o(()=>[e(c,{prop:"userId",label:"userId",width:"180"}),e(c,{prop:"userName",label:"userName",width:"180"}),e(c,{prop:"description",label:"description"}),e(c,{label:"Operations"},{default:o(()=>[u("template",null,[e(i,{type:"primary",size:"small",onClick:B},{default:o(()=>[H]),_:1}),e(i,{type:"success",size:"small",onClick:C},{default:o(()=>[J]),_:1}),e(i,{type:"primary",size:"small",onClick:v},{default:o(()=>[K]),_:1})])]),_:1})]),_:1},8,["data"]),e(S,{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=a=>n.value=a),title:"\u6743\u9650\u7BA1\u7406",width:"600px","destroy-on-close":!0},{footer:o(()=>[u("span",X,[e(i,{onClick:s[0]||(s[0]=a=>n.value=!1)},{default:o(()=>[Z]),_:1}),e(i,{type:"primary",onClick:y},{default:o(()=>[ee]),_:1})])]),default:o(()=>[e(T,{data:_(f).value,props:_(b)},{default:o(({data:a})=>[u("span",W,[u("span",null,$(a.meta.label),1),u("span",null,[e(F,{disabled:a.name.includes("home"),modelValue:a.meta.permission,"onUpdate:modelValue":h=>a.meta.permission=h,onChange:h=>w(a)},null,8,["disabled","modelValue","onUpdate:modelValue","onChange"])])])]),_:1},8,["data","props"])]),_:1},8,["modelValue"])],64)}}});var ve=A(te,[["__scopeId","data-v-67e6dfac"]]);export{ve as default};
