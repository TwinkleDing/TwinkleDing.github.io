var _=Object.defineProperty,x=Object.defineProperties;var ee=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var F=(e,n,s)=>n in e?_(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,C=(e,n)=>{for(var s in n||(n={}))se.call(n,s)&&F(e,s,n[s]);if(A)for(var s of A(n))ne.call(n,s)&&F(e,s,n[s]);return e},$=(e,n)=>x(e,ee(n));import{d as D,G as N,o as p,i as B,I as L,j as O,w as S,$ as Q,a0 as J,p as f,A as I,O as g,a7 as K,aa as R,U as W,n as q,h as te,r as w,c as b,P as E,M as oe,L as ae,a6 as le,Q as re,au as T,x as ie,C as M,av as U}from"./vendor.acbd4485.js";import{a as P,e as X,l as k,w as ue,d as h,x as me,E as de,v as ce,j as fe,q as G,y as pe}from"./base.8c77a7c1.js";import{c as ge,_ as ye,E as ve}from"./plugin-vue_export-helper.72d2a334.js";import{i as Ce,T as be,h as Z}from"./el-button.0e8d0d87.js";import{u as Te}from"./index.cab4df53.js";const he=P({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),$e=["textContent"],Ee={name:"ElBadge"},Ne=D($(C({},Ee),{props:he,setup(e,{expose:n}){const s=e,t=X("badge"),o=N(()=>s.isDot?"":k(s.value)&&k(s.max)?s.max<s.value?`${s.max}+`:`${s.value}`:`${s.value}`);return n({content:o}),(a,l)=>(p(),B("div",{class:g(f(t).b())},[L(a.$slots,"default"),O(R,{name:`${f(t).namespace.value}-zoom-in-center`},{default:S(()=>[Q(I("sup",{class:g([f(t).e("content"),f(t).em("content",a.type),f(t).is("fixed",!!a.$slots.default),f(t).is("dot",a.isDot)]),textContent:K(f(o))},null,10,$e),[[J,!a.hidden&&(f(o)||f(o)==="0"||a.isDot)]])]),_:1},8,["name"])],2))}})),Se=ue(Ne),z={},we=P({locale:{type:h(Object)},size:{type:String,values:["large","default","small"]},button:{type:h(Object)},message:{type:h(Object)},zIndex:{type:Number},namespace:{type:String,default:"el"}});D({name:"ElConfigProvider",props:we,setup(e,{slots:n}){W(()=>e.message,t=>{Object.assign(z,t!=null?t:{})},{immediate:!0,deep:!0});const s=me(e);return()=>L(n,"default",{config:s==null?void 0:s.value})}});const Y=["success","info","warning","error"],Be=P({customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},icon:{type:Ce,default:""},id:{type:String,default:""},message:{type:h([String,Object]),default:""},onClose:{type:h(Function),required:!1},showClose:{type:Boolean,default:!1},type:{type:String,values:Y,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0},grouping:{type:Boolean,default:!1},repeatNum:{type:Number,default:1}}),Ie={destroy:()=>!0},Me=D({name:"ElMessage",components:C({ElBadge:Se,ElIcon:de},be),props:Be,emits:Ie,setup(e){const n=X("message"),s=q(!1),t=q(e.type?e.type==="error"?"danger":e.type:"info");let o;const a=N(()=>{const c=e.type;return{[n.bm("icon",c)]:c&&Z[c]}}),l=N(()=>e.icon||Z[e.type]||""),i=N(()=>({top:`${e.offset}px`,zIndex:e.zIndex}));function u(){e.duration>0&&({stop:o}=ce(()=>{s.value&&d()},e.duration))}function m(){o==null||o()}function d(){s.value=!1}function y({code:c}){c===ve.esc?s.value&&d():u()}return te(()=>{u(),s.value=!0}),W(()=>e.repeatNum,()=>{m(),u()}),ge(document,"keydown",y),{ns:n,typeClass:a,iconComponent:l,customStyle:i,visible:s,badgeType:t,close:d,clearTimer:m,startTimer:u}}}),ke=["id"],ze=["innerHTML"];function De(e,n,s,t,o,a){const l=w("el-badge"),i=w("el-icon"),u=w("close");return p(),b(R,{name:e.ns.b("fade"),onBeforeLeave:e.onClose,onAfterLeave:n[2]||(n[2]=m=>e.$emit("destroy"))},{default:S(()=>[Q(I("div",{id:e.id,class:g([e.ns.b(),{[e.ns.m(e.type)]:e.type&&!e.icon},e.ns.is("center",e.center),e.ns.is("closable",e.showClose),e.customClass]),style:re(e.customStyle),role:"alert",onMouseenter:n[0]||(n[0]=(...m)=>e.clearTimer&&e.clearTimer(...m)),onMouseleave:n[1]||(n[1]=(...m)=>e.startTimer&&e.startTimer(...m))},[e.repeatNum>1?(p(),b(l,{key:0,value:e.repeatNum,type:e.badgeType,class:g(e.ns.e("badge"))},null,8,["value","type","class"])):E("v-if",!0),e.iconComponent?(p(),b(i,{key:1,class:g([e.ns.e("icon"),e.typeClass])},{default:S(()=>[(p(),b(oe(e.iconComponent)))]),_:1},8,["class"])):E("v-if",!0),L(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(p(),B(ae,{key:1},[E(" Caution here, message could've been compromised, never use user's input as message "),I("p",{class:g(e.ns.e("content")),innerHTML:e.message},null,10,ze)],2112)):(p(),B("p",{key:0,class:g(e.ns.e("content"))},K(e.message),3))]),e.showClose?(p(),b(i,{key:2,class:g(e.ns.e("closeBtn")),onClick:le(e.close,["stop"])},{default:S(()=>[O(u)]),_:1},8,["class","onClick"])):E("v-if",!0)],46,ke),[[J,e.visible]])]),_:3},8,["name","onBeforeLeave"])}var Le=ye(Me,[["render",De]]);const r=[];let Oe=1;const v=function(e={},n){if(!fe)return{close:()=>{}};if(k(z.max)&&r.length>=z.max)return{close:()=>{}};if(!T(e)&&ie(e)&&e.grouping&&!T(e.message)&&r.length){const y=r.find(c=>{var j,H,V;return`${(H=(j=c.vm.props)==null?void 0:j.message)!=null?H:""}`==`${(V=e.message)!=null?V:""}`});if(y)return y.vm.component.props.repeatNum+=1,y.vm.component.props.type=e==null?void 0:e.type,{close:()=>d.component.proxy.visible=!1}}(M(e)||T(e))&&(e={message:e});let s=e.offset||20;r.forEach(({vm:y})=>{var c;s+=(((c=y.el)==null?void 0:c.offsetHeight)||0)+16}),s+=16;const{nextZIndex:t}=Te(),o=`message_${Oe++}`,a=e.onClose,l=$(C({zIndex:t(),offset:s},e),{id:o,onClose:()=>{Pe(o,a)}});let i=document.body;G(e.appendTo)?i=e.appendTo:M(e.appendTo)&&(i=document.querySelector(e.appendTo)),G(i)||(i=document.body);const u=document.createElement("div");u.className=`container_${o}`;const m=l.message,d=O(Le,l,T(m)?{default:()=>m}:null);return d.appContext=n||v._context,d.props.onDestroy=()=>{U(null,u)},U(d,u),r.push({vm:d}),i.appendChild(u.firstElementChild),{close:()=>d.component.proxy.visible=!1}};Y.forEach(e=>{v[e]=(n={},s)=>((M(n)||T(n))&&(n={message:n}),v($(C({},n),{type:e}),s))});function Pe(e,n){const s=r.findIndex(({vm:l})=>e===l.component.props.id);if(s===-1)return;const{vm:t}=r[s];if(!t)return;n==null||n(t);const o=t.el.offsetHeight;r.splice(s,1);const a=r.length;if(!(a<1))for(let l=s;l<a;l++){const i=parseInt(r[l].vm.el.style.top,10)-o-16;r[l].vm.component.props.offset=i}}function je(){var e;for(let n=r.length-1;n>=0;n--){const s=r[n].vm.component;(e=s==null?void 0:s.proxy)==null||e.close()}}v.closeAll=je;v._context=null;const Ge=pe(v,"$message");export{Ge as E};
