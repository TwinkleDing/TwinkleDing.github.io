var se=Object.defineProperty;var ne=(e,t,a)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var y=(e,t,a)=>(ne(e,typeof t!="symbol"?t+"":t,a),a);import{u as O}from"./vuex.95ee8266.js";import{u as U,b as B}from"./vue-router.ef7e3c46.js";import{I as ae,J as re,K as le,L as ue,i as ie,r as me,s as ce,v as de,j as pe,M as he,G as fe,a as _e,N as ge,O as ve,P as ye,Q as Te,R as $e}from"./element-plus.9672f9b1.js";import{l as Ce,_ as I,A as Ee,H as Se,S as we}from"./index.cd8757c6.js";import{m as be,c as ke,h as Le,a as Ie,b as Me,d as Pe,p as Oe,e as Re,o as Ve,v as De,f as Ue,g as Ae,i as He,j as Be}from"./@element-plus.99ebd0f1.js";import{d as M,Y as z,X as C,o as u,c,M as L,a3 as D,O as V,P as k,Q as l,a as p,R as Y,U as v,V as A,L as $,S as s,q as F,b as T,x as G,a0 as w,D as ze,b5 as Ne,b4 as Ye,p as Fe,a5 as Ge}from"./@vue.0176e29f.js";import"./@vueuse.ea854302.js";import"./dayjs.810e77a2.js";import"./@intlify.7d747563.js";import"./lodash-es.c5a0ee5e.js";import"./async-validator.5d25c98b.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.1c4ac15a.js";import"./axios.e9656f83.js";import"./nprogress.1a08f112.js";import"./vue-i18n.2c7675d4.js";import"./vue.39eaecfc.js";const Xe=M({name:"MenuItem",components:{IconMenu:be,Coordinate:ke,Help:Le,Histogram:Ie,Setting:Me,School:Pe,Postcard:Oe,PieChart:Re,Opportunity:Ve,VideoCameraFilled:De},props:{menu:{type:Array,default:()=>[]}},setup(e){const t=U(),a=B(),h=z(e.menu),_=O();return{menu:h,open:i=>{t.name!==i.name&&a.push(i.path)},route:t,store:_,lighten:Ce}}}),je={class:"menu-icon"},Qe={class:"menu-icon"};function qe(e,t,a,h,_,g){const i=ae,n=C("menu-item",!0),m=re;return u(),c("div",{class:V([e.store.getters.menuPosition?"":"flex","menu-item"])},[(u(!0),c(L,null,D(e.menu,o=>(u(),c(L,{key:o.name},[!o.children||!o.children.length?(u(),k(i,{key:0,class:"menu-item-item",index:o.name,style:A({background:e.store.getters.menuPosition?o.path.includes(e.route.name)?e.store.getters.systemTheme:"":o.path.includes(e.route.name)?e.lighten(e.store.getters.headerTheme,30):"",color:e.store.getters.menuPosition&&o.path.includes(e.route.name)?"#fff":""}),onClick:f=>e.open(o)},{title:l(()=>[p("div",je,[(u(),k(Y(o.meta.icon)))]),p("span",null,v(e.$t(o.name)),1)]),_:2},1032,["index","style","onClick"])):$("",!0),o.children&&o.children.length?(u(),k(m,{key:1,index:o.name},{title:l(()=>[p("div",Qe,[(u(),k(Y(o.meta.icon)))]),p("span",null,v(e.$t(o.name)),1)]),default:l(()=>[s(n,{menu:o.children},null,8,["menu"])]),_:2},1032,["index"])):$("",!0)],64))),128))],2)}var Je=I(Xe,[["render",qe]]);const Ke=M({name:"LeftMenu",components:{MenuItem:Je},props:{menuList:{type:Array,default:()=>[]}},setup(e){const t=U(),a=O();return{menu:z(e.menuList),route:t,store:a}}});function We(e,t,a,h,_,g){const i=C("menu-item"),n=le;return u(),k(n,{class:"left-menu scrollbar header-scrollbar-color","text-color":e.store.getters.menuTheme==="#ffffff"?"#303133":"#ffffffA6",style:A({background:e.store.getters.menuPosition?e.store.getters.menuTheme+"!important":"transform"}),mode:e.store.getters.menuPosition?"vertical":"horizontal","active-text-color":"#ffffff","default-active":e.store.getters.currentRoute.name,"collapse-transition":!1,ellipsis:!1,collapse:!1},{default:l(()=>[s(i,{menu:e.menu},null,8,["menu"])]),_:1},8,["text-color","style","mode","default-active"])}var Ze=I(Ke,[["render",We]]);const xe=M({name:"ThemeColorPicker",components:{Check:Ue},props:{colorList:{type:Array,default:()=>[]},def:{type:String,default:""}},setup(e){const{proxy:t}=F(),a=T(e.def||e.colorList[0]),h=T("#ffffff"),_=()=>{a.value==="#ffffff"?h.value="#000000":h.value="#ffffff"},g=i=>{a.value=i,_(),t.$emit("change",i)};return G(()=>{_()}),{active:a,iconColor:h,handleClick:g}}}),et={class:"prefix-cls"},tt=["onClick"];function ot(e,t,a,h,_,g){const i=C("check");return u(),c("div",et,[(u(!0),c(L,null,D(e.colorList||[],n=>(u(),c("span",{key:n,onClick:m=>e.handleClick(n),class:V(["prefix-cls__item",{["prefix-cls__item--active"]:e.active===n}]),style:A({background:n})},[s(i,{color:e.iconColor},null,8,["color"])],14,tt))),128))])}var X=I(xe,[["render",ot]]);const st=M({name:"SystemIcon",components:{Cpu:Ae,ThemeColorPicker:X},setup(){const{proxy:e}=F(),t=O(),a=T(t.getters.tabsShow),h=T(t.getters.menuPosition),_=T(t.getters.tabsType),g=T(t.getters.language==="zh"),i=Ee,n=Se,m=we,o=t.getters.systemTheme,f=t.getters.headerTheme,S=t.getters.menuTheme,E=new nt,b=T(E.x),P=T(E.y),d=T(!1),H=T(g.value?"rtl":"ltr"),Q=r=>{E.mouseDown(r)},q=E.mouseOut,J=async r=>{const R=await E.mouseMove(r);b.value=R.x,P.value=R.y},K=async()=>{const r=await E.mouseUp();if(r.drawer){d.value=!0;return}b.value=r.x,P.value=r.y,t.commit("SET_SYSTEM_ICON_POSITION",{x:r.x,y:r.y})},W=r=>{t.commit("SET_SYSTEM_THEME",r)},N=r=>{t.commit("SET_MENU_THEME",r)},Z=r=>{t.commit("SET_HEADER_THEME",r)},x=r=>{t.commit("SET_TABS_SHOW",r)},ee=r=>{t.commit("SET_TABS_TYPE",r)},te=r=>{t.commit("SET_MENU_POSITION",r),r||N(m[0])},oe=r=>{const R=r?"zh":"en";e.$i18n.locale=R,g.value=r,r?H.value="rtl":H.value="ltr",t.commit("SET_LANGUAGE",R)};return G(()=>{const r=t.getters.systemIcon;t.getters.systemIcon&&(b.value=r.x,P.value=r.y)}),{drawer:d,store:t,x:b,y:P,systemTheme:o,menuTheme:S,systemThemeList:i,menuThemeList:m,tabsShow:a,tabsType:_,menuPosition:h,language:g,direction:H,headerThemeList:n,headerTheme:f,tabsTypeChange:ee,mouseDown:Q,mouseMove:J,mouseUp:K,mouseOut:q,systemThemeChange:W,menuThemeChange:N,headerThemeChange:Z,tabsChange:x,menuPositionChange:te,languageChange:oe}}});class nt{constructor(){y(this,"timer");y(this,"downTime");y(this,"down");y(this,"offsetX");y(this,"offsetY");y(this,"x");y(this,"y");y(this,"mouseDown",t=>{this.downTime=new Date().getTime(),this.down=!0,this.offsetX=t.offsetX,this.offsetY=t.offsetY});y(this,"mouseMove",t=>new Promise(a=>{clearTimeout(this.timer),this.down&&(this.x=t.clientX-this.offsetX+"px",this.y=t.clientY-this.offsetY+"px",a({x:this.x,y:this.y}))}));y(this,"mouseOut",()=>{this.timer=setTimeout(()=>{this.down=!1},500)});y(this,"mouseUp",()=>new Promise(t=>{if(clearTimeout(this.timer),new Date().getTime()-this.downTime<300){t({drawer:!0});return}this.down=!1,t({x:this.x,y:this.y})}));this.timer=null,this.downTime=0,this.down=!1,this.offsetX=0,this.offsetY=0,this.x="200px",this.y="60px"}}const at={class:"interface-set"};function rt(e,t,a,h,_,g){const i=C("cpu"),n=ue,m=X,o=ie,f=me,S=ce,E=de,b=pe,P=he;return u(),c(L,null,[p("div",{class:"system-setting",style:A({left:e.x,top:e.y})},[p("div",{class:"box",onMousedown:t[0]||(t[0]=(...d)=>e.mouseDown&&e.mouseDown(...d)),onMousemove:t[1]||(t[1]=(...d)=>e.mouseMove&&e.mouseMove(...d)),onMouseup:t[2]||(t[2]=(...d)=>e.mouseUp&&e.mouseUp(...d)),onMouseout:t[3]||(t[3]=(...d)=>e.mouseOut&&e.mouseOut(...d))},null,32),s(i,{class:"icon"})],4),s(P,{modelValue:e.drawer,"onUpdate:modelValue":t[8]||(t[8]=d=>e.drawer=d),size:"350px","custom-class":"system-drawer",direction:e.direction},{title:l(()=>[p("h3",null,v(e.$t("system")),1)]),default:l(()=>[p("div",null,[s(n,{class:"title"},{default:l(()=>[w(v(e.$t("systemTheme")),1)]),_:1}),s(m,{colorList:e.systemThemeList,def:e.systemTheme,onChange:e.systemThemeChange},null,8,["colorList","def","onChange"]),s(n,{class:"title"},{default:l(()=>[w(v(e.$t("headerTheme")),1)]),_:1}),s(m,{colorList:e.headerThemeList,def:e.headerTheme,onChange:e.headerThemeChange},null,8,["colorList","def","onChange"]),e.store.getters.menuPosition?(u(),c(L,{key:0},[s(n,{class:"title"},{default:l(()=>[w(v(e.$t("menuTheme")),1)]),_:1}),s(m,{colorList:e.menuThemeList,def:e.menuTheme,onChange:e.menuThemeChange},null,8,["colorList","def","onChange"])],64)):$("",!0)]),p("div",at,[s(n,{class:"title"},{default:l(()=>[w(v(e.$t("interfaceSettings")),1)]),_:1}),s(b,{class:"row"},{default:l(()=>[s(o,{span:e.tabsShow?8:16},{default:l(()=>[w(v(e.$t("labelTab")),1)]),_:1},8,["span"]),e.tabsShow?(u(),k(o,{key:0,span:8,align:"center"},{default:l(()=>[s(S,{modelValue:e.tabsType,"onUpdate:modelValue":t[4]||(t[4]=d=>e.tabsType=d),onChange:e.tabsTypeChange,placeholder:"Select",size:"small"},{default:l(()=>[s(f,{label:e.$t("tabSimple"),value:1},null,8,["label"]),s(f,{label:e.$t("tabCard"),value:2},null,8,["label"])]),_:1},8,["modelValue","onChange"])]),_:1})):$("",!0),s(o,{span:8,align:"center"},{default:l(()=>[s(E,{modelValue:e.tabsShow,"onUpdate:modelValue":t[5]||(t[5]=d=>e.tabsShow=d),onChange:e.tabsChange},null,8,["modelValue","onChange"])]),_:1})]),_:1}),s(b,{class:"row"},{default:l(()=>[s(o,{span:16},{default:l(()=>[w(v(e.$t("menuPosition")),1)]),_:1}),s(o,{span:8,align:"center"},{default:l(()=>[s(E,{"inline-prompt":"","active-text":"\u{1F448}","inactive-text":"\u{1F446}","inactive-color":e.store.getters.systemTheme,modelValue:e.menuPosition,"onUpdate:modelValue":t[6]||(t[6]=d=>e.menuPosition=d),onChange:e.menuPositionChange},null,8,["inactive-color","modelValue","onChange"])]),_:1})]),_:1}),s(b,{class:"row"},{default:l(()=>[s(o,{span:16},{default:l(()=>[w(v(e.$t("language")),1)]),_:1}),s(o,{span:8,align:"center"},{default:l(()=>[s(E,{"inline-prompt":"","active-text":e.$t("chinese"),"inactive-text":e.$t("english"),"inactive-color":e.store.getters.systemTheme,modelValue:e.language,"onUpdate:modelValue":t[7]||(t[7]=d=>e.language=d),onChange:e.languageChange},null,8,["active-text","inactive-text","inactive-color","modelValue","onChange"])]),_:1})]),_:1})])]),_:1},8,["modelValue","direction"])],64)}var lt=I(st,[["render",rt]]),ut="/static/png/logo-03d6d6da.png";const it=M({setup(){const e=O(),t=B(),a=z(e.getters.userInfo),h=T("default");return{imgUrl:T("https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"),size:h,userInfo:a,store:e,drClick:i=>{i===1?t.push("my"):i===2&&fe.confirm("\u662F\u5426\u786E\u8BA4\u9000\u51FA\u767B\u5F55?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}).then(()=>{t.push("login").then(()=>{e.commit("REMOVE_ROUTER_LIST"),_e({type:"success",message:"\u9000\u51FA\u6210\u529F"})})}).catch(()=>{})}}}}),j=e=>(Ne("data-v-53f826ce"),e=e(),Ye(),e),mt={class:"pages-header"},ct=j(()=>p("div",{class:"header-background"},null,-1)),dt=j(()=>p("div",{class:"logo"},[p("img",{src:ut,alt:"",srcset:""}),p("i",null,"VUE3+TS")],-1)),pt={key:0,class:"menu-top"},ht={class:"avatar"};function ft(e,t,a,h,_,g){const i=ge,n=ve,m=ye,o=Te;return u(),c("div",mt,[ct,dt,e.store.getters.menuPosition?$("",!0):(u(),c("div",pt,[ze(e.$slots,"menu",{},void 0,!0)])),s(o,{placement:"bottom-end"},{dropdown:l(()=>[s(m,null,{default:l(()=>[s(n,{onClick:t[0]||(t[0]=f=>e.drClick(1))},{default:l(()=>[w(v(e.$t("myInfo")),1)]),_:1}),s(n,{onClick:t[1]||(t[1]=f=>e.drClick(2))},{default:l(()=>[w(v(e.$t("logout")),1)]),_:1})]),_:1})]),default:l(()=>[p("div",ht,[p("span",null,v(e.userInfo.userName),1),s(i,{size:e.size,src:e.imgUrl},null,8,["size","src"])])]),_:1})])}var _t=I(it,[["render",ft],["__scopeId","data-v-53f826ce"]]);const gt=M({name:"Tabs",components:{CircleClose:He,Close:Be},setup(){const e=O(),t=U(),a=B(),h=Fe(()=>{const n=e.getters.routeHistory,m=_(e.getters.routeList,[]);let o=[];return n.map(f=>{m.map(S=>{S.path===f.path&&o.push(f)})}),e.commit("SET_ROUTE_HISTORY",o),o}),_=(n,m)=>(n.map(o=>(o.children?_(o.children,m):m.push(o),o)),m);return{routeHistory:h,route:t,store:e,routeGo:n=>a.push(n),closeCurrentRoute:n=>{e.commit("REMOVE_ROUTE_HISTORY_INDEX",n)}}}}),vt={key:0,class:"router-history router-history-simple scrollbar"},yt={key:0,class:"current-router"},Tt=["onClick"],$t={key:1},Ct={key:1,class:"router-history router-history-card scrollbar"},Et=["onClick"];function St(e,t,a,h,_,g){const i=C("circle-close"),n=$e,m=C("close");return u(),c(L,null,[e.store.getters.tabsType===1?(u(),c("div",vt,[(u(!0),c(L,null,D(e.routeHistory,(o,f)=>(u(),c("div",{class:V(["item",e.route.path===o.path?"router-history-active":""]),key:f},[e.route.path===o.path?(u(),c("b",yt)):$("",!0),p("span",{onClick:S=>e.routeGo(o.path)},v(e.$t(o.label)),9,Tt),o.path.includes("home")?$("",!0):(u(),c("span",$t,[s(n,{size:16,color:e.route.path===o.path?"#fff":"#495060",onClick:S=>e.closeCurrentRoute(f)},{default:l(()=>[s(i)]),_:2},1032,["color","onClick"])]))],2))),128))])):$("",!0),e.store.getters.tabsType===2?(u(),c("div",Ct,[(u(!0),c(L,null,D(e.routeHistory,(o,f)=>(u(),c("div",{class:V(["item",e.route.path===o.path?"router-history-active":""]),key:f},[p("span",{class:"router-history-name",onClick:S=>e.routeGo(o.path)},v(e.$t(o.label)),9,Et),o.path.includes("home")?$("",!0):(u(),k(n,{key:0,size:16,color:"#fff",onClick:S=>e.closeCurrentRoute(f)},{default:l(()=>[s(m)]),_:2},1032,["onClick"]))],2))),128))])):$("",!0)],64)}var wt=I(gt,[["render",St],["__scopeId","data-v-56a689a8"]]);const bt=M({name:"Dashboard",components:{LeftMenu:Ze,SystemIcon:lt,Tabs:wt,HeaderTop:_t},setup(){const e=O(),t=U();return{menuList:[...e.getters.routeList],route:t,store:e}}}),kt={class:"pages"},Lt={class:"pages-content"},It={key:0,class:"pages-left"},Mt={class:"pages-right"};function Pt(e,t,a,h,_,g){const i=C("left-menu"),n=C("header-top"),m=C("tabs"),o=C("router-view"),f=C("system-icon");return u(),c("div",kt,[s(n,null,Ge({_:2},[e.store.getters.menuPosition?void 0:{name:"menu",fn:l(()=>[s(i,{menuList:e.menuList},null,8,["menuList"])])}]),1024),p("div",Lt,[e.store.getters.menuPosition?(u(),c("div",It,[s(i,{menuList:e.menuList},null,8,["menuList"])])):$("",!0),p("div",Mt,[e.store.getters.tabsShow?(u(),k(m,{key:0})):$("",!0),p("div",{class:V(["right-content",!e.store.getters.tabsShow||"mg-t-40","scrollbar"])},[s(o)],2)])]),s(f)])}var Zt=I(bt,[["render",Pt],["__scopeId","data-v-363a5543"]]);export{Zt as default};
