import{w as N,x as Q,g as Z,b as j,f as q,d as z,m as H,n as J,y as G,A as P,a as W}from"./element-plus.a41b0bbd.js";import{d as $,b as u,x as ee,o as c,c as g,a as r,S as e,Q as a,u as b,M as ae,a3 as te,J as oe,ac as D,a0 as f,P as w,L as O,U as se,O as ne,H as le}from"./@vue.669e5f5d.js";import{d as U}from"./openai.076a60b7.js";import{a as V,s as ue}from"./index.5f16492a.js";import{u as re}from"./@element-plus.032e0b8e.js";import"./@vueuse.fb085ff4.js";import"./dayjs.810e77a2.js";import"./@intlify.7d747563.js";import"./lodash-es.b8baee12.js";import"./async-validator.5d25c98b.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.1c4ac15a.js";import"./axios.e9656f83.js";import"./form-data.d1f94bc2.js";import"./vuex.a200b86a.js";import"./vue-router.e1605198.js";import"./nprogress.1a08f112.js";import"./vue-i18n.4281b29d.js";import"./vue.d4014e03.js";var ie="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAJiSURBVEhL1de/ahVBFAbw+yI+gYW1b+AL6AvoC+gLxE5stLRRLBSCsUgj+KeJjQnEIgjKbRRBBa0M/oGgzXp/qyccZ2f2rgRu8IMPZmdm5zvfOWc2ubO7893u1MbV7sSdtZWQFs3ZKkWDNGe1hVXw/xI+9+R2d3bB2tpUThY+vXm923i912V8+XHQXXuxVd2/jJOEzzy40Yt8+L7fXdre7B3jrflOH8D2p7d9AHh+a716RslJwgRfff7Ynbx35a95QQgIvv486Anvv+33geW9JUeFpffmH1f5IOOXi0Dg/pu9fl9+R5ACkqmYL9kUlrYAx+Y4jjo7vOXKPuuc19axKhyiaog7ixqaJySdUhx7zakxh2vPHx7OX3i63p/Rcj0QFi0Q9CyILOzZOLo8Gk7KIdcXLqdgMgfCNkI0Uk0YCUIEgtzZC7IAOTuZA+EsVD4ThmgotFZ2sTRHh+f5zKpwbopSOEqQaZ3Qo3fzww6XMVnhvNyPA+FoiohUqhx68dnvD0dObZBwrIEzzI812EAYXQX3NOoctdO5LccRKOTgoNZgVeGItFY76dPNUeNoojHhWpaqwpEyTsDhUTvkmnsl4Kbl2DtQ6+xRYeNwCeZ9JCLlUYqW8ONFswnOuORoqqMpCDjMIUSye/MCycKC0uEw+R4HibSuAgpOD0C4x4D3W6LYFOYA8t1EWYiG4j5fFUKg7lGGFpvCyJXIIdyBmlvLewUn5YLJ8y2OCqPIOVFLdMfB32n/d6ExUWvLnAaXCpd0sJpGJgK+31NF8Z+FM/VB7XM4hUcSPgqP7yfM8fxo2+1+AclvFAZjnddpAAAAAElFTkSuQmCC";const ce={class:"openai"},pe=r("div",{class:"title"},[r("span",null,"OpenAI ChatGPT"),r("i",null,"--\u7B80\u5355\u5BF9\u8BDD")],-1),de={class:"search-box"},me={key:0,src:ie,width:"30",height:"30",alt:"",class:"icon"},_e={class:"loading"},Ae=f("\u91CD\u7F6E"),fe=f("\u5BF9\u8BDD"),ve=f("\u91CD\u7F6E"),ye=f("\u5BF9\u8BDD"),Ye=$({setup(ge){const h=u(),B=u(),l=u(""),C=u("1"),p=u(!1),d=u([]),m=u(""),k=u(0),R=new U.Configuration({apiKey:V({name:"apiKey"})}),I=new U.OpenAIApi(R),K=()=>{v()},L=({scrollTop:t})=>{k.value=t},_=()=>{!p.value&&S()},v=()=>{m.value="",d.value=[]},x=t=>t.startsWith(`
`)?x(t.substring(1,t.length)):t,M=async()=>{await le(),h.value.setScrollTop(B.value.clientHeight)},S=async()=>{let t=m.value+`
 Human:`+l.value;(!m.value||l.value==="2")&&(t="Human:"+l.value),p.value=!0;const o=await I.createCompletion({model:"text-davinci-003",prompt:t,temperature:.1,max_tokens:2048,top_p:1,frequency_penalty:0,presence_penalty:0},{headers:{"Example-Header":"example","User-Agent":"'"}});if(p.value=!1,o.error)W({type:"error",message:o.error});else{m.value=t+o.choices[0].text;let i=o.choices[0].text;i=x(i),d.value.push({type:"user",text:l.value}),d.value.push({type:"ai",text:i}),l.value="",M()}};return ee(()=>{V({name:"apiKey"})||N.prompt("\u8BF7\u8F93\u5165api-key","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",inputErrorMessage:"\u8BF7\u8F93\u5165api-key"}).then(({value:t})=>{ue({name:"apiKey",content:t}),window.location.reload()}).catch(()=>{})}),(t,o)=>{const i=Q,y=Z,A=j,s=q,E=z,F=H,T=J,X=G;return c(),g("div",ce,[pe,r("div",de,[e(T,{modelValue:C.value,"onUpdate:modelValue":o[2]||(o[2]=n=>C.value=n),type:"border-card",onTabChange:K,"tab-position":"bottom"},{default:a(()=>[e(b(P),{class:"res",ref_key:"scrollbarRef",ref:h,onScroll:L},{default:a(()=>[r("div",{ref_key:"scrollRef",ref:B},[(c(!0),g(ae,null,te(d.value,(n,Y)=>(c(),w(y,{key:Y,class:ne(["res-item",n.type==="ai"?"ai-item":""])},{default:a(()=>[r("div",null,[n.type==="ai"?(c(),g("img",me)):O("",!0),n.type==="user"?(c(),w(i,{key:1,class:"icon icon-user",size:30,color:"white"},{default:a(()=>[e(b(re))]),_:1})):O("",!0)]),r("div",null,se(n.text),1)]),_:2},1032,["class"]))),128))],512)]),_:1},512),oe(r("div",_e,null,512),[[X,p.value]]),e(F,{label:"\u8FDE\u7EED\u5BF9\u8BDD\u6A21\u5F0F",name:"1"},{default:a(()=>[e(y,{class:"search"},{default:a(()=>[e(s,{span:4},{default:a(()=>[e(A,{onClick:v},{default:a(()=>[Ae]),_:1})]),_:1}),e(s,{span:1}),e(s,{span:14},{default:a(()=>[e(E,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=n=>l.value=n),onKeyup:D(_,["enter","native"])},null,8,["modelValue","onKeyup"])]),_:1}),e(s,{span:1}),e(s,{span:4},{default:a(()=>[e(A,{onClick:_,type:"primary"},{default:a(()=>[fe]),_:1})]),_:1})]),_:1})]),_:1}),e(F,{label:"\u5355\u6B21\u5BF9\u8BDD\u6A21\u5F0F",name:"2"},{default:a(()=>[e(y,{class:"search"},{default:a(()=>[e(s,{span:4},{default:a(()=>[e(A,{onClick:v},{default:a(()=>[ve]),_:1})]),_:1}),e(s,{span:1}),e(s,{span:14},{default:a(()=>[e(E,{modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=n=>l.value=n),onKeyup:D(_,["enter","native"])},null,8,["modelValue","onKeyup"])]),_:1}),e(s,{span:1}),e(s,{span:4},{default:a(()=>[e(A,{onClick:_,type:"primary"},{default:a(()=>[ye]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])])}}});export{Ye as default};
