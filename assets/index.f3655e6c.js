import{b as D,D as L,H as S,F as T,I as $,a as p,y as I}from"./element-plus.5729a83e.js";import{_ as k}from"./index.3b444863.js";import{a as m}from"./axios.e9656f83.js";import{d as P,Y as g,C as M,o as N,c as U,a as _,S as o,Q as c,a0 as E,U as V,u,b5 as j,b4 as q,q as G}from"./@vue.669e5f5d.js";import"./@vueuse.fb085ff4.js";import"./dayjs.66ec207c.js";import"./@intlify.679e9df6.js";import"./lodash-es.c5a0ee5e.js";import"./async-validator.5d25c98b.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.1c4ac15a.js";import"./vuex.a200b86a.js";import"./vue-router.e1605198.js";import"./nprogress.2355ac35.js";import"./vue-i18n.be86ef5e.js";import"./vue.e1b8ddc2.js";const H=n=>m({url:"/api/systemLog",method:"GET",params:n}),Q=n=>m({url:"/api/systemLog",method:"DELETE",data:n}),R=n=>m({url:"/api/systemLog/deleteSelect",method:"DELETE",data:n}),Y=()=>m({url:"/api/systemLog/deleteAll",method:"DELETE"});const J=n=>(j("data-v-7e9c25ae"),n=n(),q(),n),K={class:"system-log"},O=J(()=>_("div",null,"\u7CFB\u7EDF\u65E5\u5FD7",-1)),W={class:"setting"},X=E("\u6279\u91CF\u5220\u9664"),Z=E("\u5168\u90E8\u5220\u9664"),ee={class:"pagination"},te=P({setup(n){const{proxy:f}=G(),h=g({list:[]}),s=g({number:1,size:10,total:0,sizes:[10,50,100,200]}),d=g({list:[]}),r=()=>{const e={number:s.number,size:s.size};H(e).then(t=>{s.total=t.data.total,h.list=t.data.list})},y=()=>{s.number=1,r()},C=()=>r(),B=e=>{Q(e).then(t=>{t.status===200&&(s.number=1,p({type:"success",message:t.message}),r())})},F=()=>{Y().then(e=>{e.status===200?(s.number=1,p({type:"success",message:e.message}),r()):p({type:"warning",message:e.message})})},x=()=>{const t=d.list.map(a=>a.id);R(t).then(a=>{a.status===200?(s.number=1,p({type:"success",message:a.message}),r()):p({type:"warning",message:a.message})})},b=e=>{if(e==="selected"&&d.list.length===0){p({type:"warning",message:"\u60A8\u8FD8\u672A\u9009\u62E9\u4EFB\u4F55\u4E00\u9879\uFF01"});return}I.confirm("\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u4E9B\u6570\u636E\u4E48?","\u8B66\u544A",{confirmButtonText:f.$t("confirm"),cancelButtonText:f.$t("cancel"),type:"warning"}).then(()=>{e==="selected"?x():F()})},v=e=>{d.list=e};return M(()=>{r()}),(e,t)=>{const a=D,i=L,z=S,w=T,A=$;return N(),U("div",K,[O,_("div",W,[o(a,{type:"primary",onClick:t[0]||(t[0]=l=>b("selected"))},{default:c(()=>[X]),_:1}),o(a,{type:"primary",onClick:t[1]||(t[1]=l=>b("all"))},{default:c(()=>[Z]),_:1})]),o(w,{data:u(h).list,stripe:"","max-height":"684",onSelectionChange:v},{default:c(()=>[o(i,{type:"selection",width:"55"}),o(i,{prop:"createBy",label:"\u521B\u5EFA\u8005",width:"180"}),o(i,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4",width:"180"}),o(i,{prop:"ip",label:"IP\u5730\u5740",width:"100"}),o(i,{prop:"logType",label:"\u65E5\u5FD7\u7C7B\u578B",width:"100"}),o(i,{prop:"logContent",label:"\u65E5\u5FD7\u5185\u5BB9"}),o(i,{label:"\u64CD\u4F5C",width:"100"},{default:c(l=>[o(z,{title:"\u786E\u5B9A\u5220\u9664\u5417?","confirm-button-text":e.$t("confirm"),"cancel-button-text":e.$t("cancel"),onConfirm:se=>B(l.row.id)},{reference:c(()=>[o(a,{link:"",type:"primary"},{default:c(()=>[E(V(e.$t("delete")),1)]),_:1})]),_:2},1032,["confirm-button-text","cancel-button-text","onConfirm"])]),_:1})]),_:1},8,["data"]),_("div",ee,[o(A,{align:"right",currentPage:u(s).number,"onUpdate:currentPage":t[2]||(t[2]=l=>u(s).number=l),"page-size":u(s).size,"onUpdate:page-size":t[3]||(t[3]=l=>u(s).size=l),"page-sizes":u(s).sizes,background:"",layout:"total, sizes, prev, pager, next, jumper",total:u(s).total,onSizeChange:y,onCurrentChange:C},null,8,["currentPage","page-size","page-sizes","total"])])])}}});var Ce=k(te,[["__scopeId","data-v-7e9c25ae"]]);export{Ce as default};
