import{y as V,b as x,A as k,u as I,B as N,n as U,a as d}from"./element-plus.cac48fb9.js";import{u as R}from"./vuex.a200b86a.js";import{_ as A}from"./index.51c7bd3f.js";import{d as P,b as z,Y as m,x as L,o as M,c as O,S as e,Q as s,u as _,M as $,b5 as Q,b4 as Y,a as u,U as j,a0 as r}from"./@vue.669e5f5d.js";import"./@vueuse.fb085ff4.js";import"./dayjs.810e77a2.js";import"./@intlify.7d747563.js";import"./lodash-es.c5a0ee5e.js";import"./async-validator.5d25c98b.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.1c4ac15a.js";import"./vue-router.e1605198.js";import"./axios.e9656f83.js";import"./nprogress.1a08f112.js";import"./vue-i18n.4281b29d.js";import"./vue.d4014e03.js";const q=p=>(Q("data-v-67e6dfac"),p=p(),Y(),p),G=q(()=>u("div",null,"\u7528\u6237\u5217\u8868",-1)),H=r(" \u6743\u9650\u9875\u9762\u8BBE\u7F6E "),J=r(" \u6062\u590D "),K=r(" \u67E5\u770B\u6743\u9650 "),W={class:"custom-tree-node"},X={class:"dialog-footer"},Z=r("\u53D6\u6D88"),ee=r("\u786E\u5B9A"),oe=P({setup(p){const l=R(),i=z(!1),b=m({children:"children",label:"name"}),f=m({}),g=m([{userId:"TwinkleDing",userName:"TwinkleDing",description:"\u6E38\u5BA2\u8D26\u53F7"}]),v=()=>{i.value=!0,l.dispatch("router").then(o=>{f.value=E(o)})},E=o=>o.map(t=>(t.label=t.meta.label,t.permission=t.meta.permission,t.children&&E(t.children),t)),y=o=>{console.log(o.permission)},w=()=>{i.value=!1},B=async()=>{let o=[...await l.dispatch("getRouteList")];o.length>3?(o.splice(1,1),d({type:"success",message:"\u8DEF\u7531\u8BBE\u7F6E\u6210\u529F\uFF0C\u5C06\u5237\u65B0\u9875\u9762"}),setTimeout(()=>{l.commit("SET_ROUTE_LIST",o),window.location.reload()},1e3)):d({type:"error",message:"\u65E0\u6CD5\u7EE7\u7EED\u8BBE\u7F6E\u8DEF\u7531\u6743\u9650"})},C=async()=>{let o=[...await l.dispatch("router")];d({type:"success",message:"\u8DEF\u7531\u6062\u590D\u6210\u529F\uFF0C\u5C06\u5237\u65B0\u9875\u9762"}),setTimeout(()=>{l.commit("SET_ROUTE_LIST",o),window.location.reload()},1e3)};return L(()=>{}),(o,t)=>{const c=V,n=x,D=k,F=I,T=N,S=U;return M(),O($,null,[G,e(D,{data:_(g),style:{width:"100%"}},{default:s(()=>[e(c,{prop:"userId",label:"userId",width:"180"}),e(c,{prop:"userName",label:"userName",width:"180"}),e(c,{prop:"description",label:"description"}),e(c,{label:"Operations"},{default:s(()=>[u("template",null,[e(n,{type:"primary",size:"small",onClick:B},{default:s(()=>[H]),_:1}),e(n,{type:"success",size:"small",onClick:C},{default:s(()=>[J]),_:1}),e(n,{type:"primary",size:"small",onClick:v},{default:s(()=>[K]),_:1})])]),_:1})]),_:1},8,["data"]),e(S,{modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=a=>i.value=a),title:"\u6743\u9650\u7BA1\u7406",width:"600px","destroy-on-close":!0},{footer:s(()=>[u("span",X,[e(n,{onClick:t[0]||(t[0]=a=>i.value=!1)},{default:s(()=>[Z]),_:1}),e(n,{type:"primary",onClick:w},{default:s(()=>[ee]),_:1})])]),default:s(()=>[e(T,{data:_(f).value,props:_(b)},{default:s(({data:a})=>[u("span",W,[u("span",null,j(a.label),1),u("span",null,[e(F,{disabled:a.name.includes("home"),modelValue:a.permission,"onUpdate:modelValue":h=>a.permission=h,onChange:h=>y(a)},null,8,["disabled","modelValue","onUpdate:modelValue","onChange"])])])]),_:1},8,["data","props"])]),_:1},8,["modelValue"])],64)}}});var ve=A(oe,[["__scopeId","data-v-67e6dfac"]]);export{ve as default};
