var Be=/,?([a-z]),?/gi,d=parseFloat,T=Math,Y=T.PI,S=T.min,V=T.max,b=T.pow,O=T.abs,Te=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/ig,Me=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/ig,A=Array.isArray||function(e){return e instanceof Array};function N(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function D(e){if(typeof e=="function"||Object(e)!==e)return e;var n=new e.constructor;for(var r in e)N(e,r)&&(n[r]=D(e[r]));return n}function Pe(e,n){for(var r=0,s=e.length;r<s;r++)if(e[r]===n)return e.push(e.splice(r,1)[0])}function we(e){function n(){var r=Array.prototype.slice.call(arguments,0),s=r.join("\u2400"),o=n.cache=n.cache||{},v=n.count=n.count||[];return N(o,s)?(Pe(v,s),o[s]):(v.length>=1e3&&delete o[v.shift()],v.push(s),o[s]=e.apply(0,r),o[s])}return n}function Ie(e){if(!e)return null;var n=Z(e);if(n.arr)return D(n.arr);var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},s=[];return A(e)&&A(e[0])&&(s=D(e)),s.length||String(e).replace(Te,function(o,v,i){var l=[],a=v.toLowerCase();for(i.replace(Me,function(u,f){f&&l.push(+f)}),a=="m"&&l.length>2&&(s.push([v].concat(l.splice(0,2))),a="l",v=v=="m"?"l":"L");l.length>=r[a]&&(s.push([v].concat(l.splice(0,r[a]))),!!r[a]););}),s.toString=Z.toString,n.arr=D(s),s}function Z(e){var n=Z.ps=Z.ps||{};return n[e]?n[e].sleep=100:n[e]={sleep:100},setTimeout(function(){for(var r in n)N(n,r)&&r!=e&&(n[r].sleep--,!n[r].sleep&&delete n[r])}),n[e]}function K(e,n,r,s){return arguments.length===1&&(n=e.y,r=e.width,s=e.height,e=e.x),{x:e,y:n,width:r,height:s,x2:e+r,y2:n+s}}function ae(){return this.join(",").replace(Be,"$1")}function G(e){var n=D(e);return n.toString=ae,n}function ee(e,n,r,s,o,v,i,l,a){var u=1-a,f=b(u,3),m=b(u,2),g=a*a,t=g*a,c=f*e+m*3*a*r+u*3*a*a*o+t*i,C=f*n+m*3*a*s+u*3*a*a*v+t*l;return{x:J(c),y:J(C)}}function ne(e){var n=He.apply(null,e);return K(n.x0,n.y0,n.x1-n.x0,n.y1-n.y0)}function H(e,n,r){return n>=e.x&&n<=e.x+e.width&&r>=e.y&&r<=e.y+e.height}function Le(e,n){return e=K(e),n=K(n),H(n,e.x,e.y)||H(n,e.x2,e.y)||H(n,e.x,e.y2)||H(n,e.x2,e.y2)||H(e,n.x,n.y)||H(e,n.x2,n.y)||H(e,n.x,n.y2)||H(e,n.x2,n.y2)||(e.x<n.x2&&e.x>n.x||n.x<e.x2&&n.x>e.x)&&(e.y<n.y2&&e.y>n.y||n.y<e.y2&&n.y>e.y)}function te(e,n,r,s,o){var v=-3*n+9*r-9*s+3*o,i=e*v+6*n-12*r+6*s;return e*i-3*n+3*r}function re(e,n,r,s,o,v,i,l,a){a==null&&(a=1),a=a>1?1:a<0?0:a;for(var u=a/2,f=12,m=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],g=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],t=0,c=0;c<f;c++){var C=u*m[c]+u,h=te(C,e,r,o,i),F=te(C,n,s,v,l),I=h*h+F*F;t+=g[c]*T.sqrt(I)}return u*t}function Se(e,n,r,s,o,v,i,l){if(!(V(e,r)<S(o,i)||S(e,r)>V(o,i)||V(n,s)<S(v,l)||S(n,s)>V(v,l))){var a=(e*s-n*r)*(o-i)-(e-r)*(o*l-v*i),u=(e*s-n*r)*(v-l)-(n-s)*(o*l-v*i),f=(e-r)*(v-l)-(n-s)*(o-i);if(!!f){var m=J(a/f),g=J(u/f),t=+m.toFixed(2),c=+g.toFixed(2);if(!(t<+S(e,r).toFixed(2)||t>+V(e,r).toFixed(2)||t<+S(o,i).toFixed(2)||t>+V(o,i).toFixed(2)||c<+S(n,s).toFixed(2)||c>+V(n,s).toFixed(2)||c<+S(v,l).toFixed(2)||c>+V(v,l).toFixed(2)))return{x:m,y:g}}}}function J(e){return Math.round(e*1e11)/1e11}function Ve(e,n,r){var s=ne(e),o=ne(n);if(!Le(s,o))return r?0:[];for(var v=re.apply(0,e),i=re.apply(0,n),l=ce(e)?1:~~(v/5)||1,a=ce(n)?1:~~(i/5)||1,u=[],f=[],m={},g=r?0:[],t=0;t<l+1;t++){var c=ee.apply(0,e.concat(t/l));u.push({x:c.x,y:c.y,t:t/l})}for(t=0;t<a+1;t++)c=ee.apply(0,n.concat(t/a)),f.push({x:c.x,y:c.y,t:t/a});for(t=0;t<l;t++)for(var C=0;C<a;C++){var h=u[t],F=u[t+1],I=f[C],M=f[C+1],P=O(F.x-h.x)<.01?"y":"x",q=O(M.x-I.x)<.01?"y":"x",L=Se(h.x,h.y,F.x,F.y,I.x,I.y,M.x,M.y),w;if(L){if(w=L.x.toFixed(9)+"#"+L.y.toFixed(9),m[w])continue;m[w]=!0;var B=h.t+O((L[P]-h[P])/(F[P]-h[P]))*(F.t-h.t),Q=I.t+O((L[q]-I[q])/(M[q]-I[q]))*(M.t-I.t);B>=0&&B<=1&&Q>=0&&Q<=1&&(r?g++:g.push({x:L.x,y:L.y,t1:B,t2:Q}))}}return g}function Xe(e,n,r){e=ue(e),n=ue(n);for(var s,o,v,i,l,a,u,f,m,g,t=r?0:[],c=0,C=e.length;c<C;c++){var h=e[c];if(h[0]=="M")s=l=h[1],o=a=h[2];else{h[0]=="C"?(m=[s,o].concat(h.slice(1)),s=m[6],o=m[7]):(m=[s,o,s,o,l,a,l,a],s=l,o=a);for(var F=0,I=n.length;F<I;F++){var M=n[F];if(M[0]=="M")v=u=M[1],i=f=M[2];else{M[0]=="C"?(g=[v,i].concat(M.slice(1)),v=g[6],i=g[7]):(g=[v,i,v,i,u,f,u,f],v=u,i=f);var P=Ve(m,g,r);if(r)t+=P;else{for(var q=0,L=P.length;q<L;q++)P[q].segment1=c,P[q].segment2=F,P[q].bez1=m,P[q].bez2=g;t=t.concat(P)}}}}}return t}function Ye(e){var n=Z(e);if(n.abs)return G(n.abs);if((!A(e)||!A(e&&e[0]))&&(e=Ie(e)),!e||!e.length)return[["M",0,0]];var r=[],s=0,o=0,v=0,i=0,l=0,a;e[0][0]=="M"&&(s=+e[0][1],o=+e[0][2],v=s,i=o,l++,r[0]=["M",s,o]);for(var u,f,m=l,g=e.length;m<g;m++){if(r.push(u=[]),f=e[m],a=f[0],a!=a.toUpperCase())switch(u[0]=a.toUpperCase(),u[0]){case"A":u[1]=f[1],u[2]=f[2],u[3]=f[3],u[4]=f[4],u[5]=f[5],u[6]=+f[6]+s,u[7]=+f[7]+o;break;case"V":u[1]=+f[1]+o;break;case"H":u[1]=+f[1]+s;break;case"M":v=+f[1]+s,i=+f[2]+o;default:for(var t=1,c=f.length;t<c;t++)u[t]=+f[t]+(t%2?s:o)}else for(var C=0,h=f.length;C<h;C++)u[C]=f[C];switch(a=a.toUpperCase(),u[0]){case"Z":s=+v,o=+i;break;case"H":s=u[1];break;case"V":o=u[1];break;case"M":v=u[u.length-2],i=u[u.length-1];default:s=u[u.length-2],o=u[u.length-1]}}return r.toString=ae,n.abs=G(r),r}function ce(e){return e[0]===e[2]&&e[1]===e[3]&&e[4]===e[6]&&e[5]===e[7]}function $(e,n,r,s){return[e,n,r,s,r,s]}function se(e,n,r,s,o,v){var i=.3333333333333333,l=2/3;return[i*e+l*r,i*n+l*s,i*o+l*r,i*v+l*s,o,v]}function le(e,n,r,s,o,v,i,l,a,u){var f=Y*120/180,m=Y/180*(+o||0),g=[],t,c=we(function(x,j,E){var qe=x*T.cos(E)-j*T.sin(E),Fe=x*T.sin(E)+j*T.cos(E);return{x:qe,y:Fe}});if(u)w=u[0],B=u[1],q=u[2],L=u[3];else{t=c(e,n,-m),e=t.x,n=t.y,t=c(l,a,-m),l=t.x,a=t.y;var C=(e-l)/2,h=(n-a)/2,F=C*C/(r*r)+h*h/(s*s);F>1&&(F=T.sqrt(F),r=F*r,s=F*s);var I=r*r,M=s*s,P=(v==i?-1:1)*T.sqrt(O((I*M-I*h*h-M*C*C)/(I*h*h+M*C*C))),q=P*r*h/s+(e+l)/2,L=P*-s*C/r+(n+a)/2,w=T.asin(((n-L)/s).toFixed(9)),B=T.asin(((a-L)/s).toFixed(9));w=e<q?Y-w:w,B=l<q?Y-B:B,w<0&&(w=Y*2+w),B<0&&(B=Y*2+B),i&&w>B&&(w=w-Y*2),!i&&B>w&&(B=B-Y*2)}var Q=B-w;if(O(Q)>f){var oe=B,ie=l,fe=a;B=w+f*(i&&B>w?1:-1),l=q+r*T.cos(B),a=L+s*T.sin(B),g=le(l,a,r,s,o,0,i,ie,fe,[B,oe,q,L])}Q=B-w;var ve=T.cos(w),me=T.sin(w),ge=T.cos(B),Ce=T.sin(B),R=T.tan(Q/4),W=4/3*r*R,k=4/3*s*R,y=[e,n],U=[e+W*me,n-k*ve],_=[l+W*Ce,a-k*ge],z=[l,a];if(U[0]=2*y[0]-U[0],U[1]=2*y[1]-U[1],u)return[U,_,z].concat(g);g=[U,_,z].concat(g).join().split(",");for(var p=[],X=0,he=g.length;X<he;X++)p[X]=X%2?c(g[X-1],g[X],m).y:c(g[X],g[X+1],m).x;return p}function He(e,n,r,s,o,v,i,l){for(var a=[],u=[[],[]],f,m,g,t,c,C,h,F,I=0;I<2;++I){if(I==0?(m=6*e-12*r+6*o,f=-3*e+9*r-9*o+3*i,g=3*r-3*e):(m=6*n-12*s+6*v,f=-3*n+9*s-9*v+3*l,g=3*s-3*n),O(f)<1e-12){if(O(m)<1e-12)continue;t=-g/m,0<t&&t<1&&a.push(t);continue}h=m*m-4*g*f,F=T.sqrt(h),!(h<0)&&(c=(-m+F)/(2*f),0<c&&c<1&&a.push(c),C=(-m-F)/(2*f),0<C&&C<1&&a.push(C))}for(var M=a.length,P=M,q;M--;)t=a[M],q=1-t,u[0][M]=q*q*q*e+3*q*q*t*r+3*q*t*t*o+t*t*t*i,u[1][M]=q*q*q*n+3*q*q*t*s+3*q*t*t*v+t*t*t*l;return u[0][P]=e,u[1][P]=n,u[0][P+1]=i,u[1][P+1]=l,u[0].length=u[1].length=P+2,{x0:S.apply(0,u[0]),y0:S.apply(0,u[1]),x1:V.apply(0,u[0]),y1:V.apply(0,u[1])}}function ue(e){var n=Z(e);if(n.curve)return G(n.curve);for(var r=Ye(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=function(t,c,C){var h,F;if(!t)return["C",c.x,c.y,c.x,c.y,c.x,c.y];switch(!(t[0]in{T:1,Q:1})&&(c.qx=c.qy=null),t[0]){case"M":c.X=t[1],c.Y=t[2];break;case"A":t=["C"].concat(le.apply(0,[c.x,c.y].concat(t.slice(1))));break;case"S":C=="C"||C=="S"?(h=c.x*2-c.bx,F=c.y*2-c.by):(h=c.x,F=c.y),t=["C",h,F].concat(t.slice(1));break;case"T":C=="Q"||C=="T"?(c.qx=c.x*2-c.qx,c.qy=c.y*2-c.qy):(c.qx=c.x,c.qy=c.y),t=["C"].concat(se(c.x,c.y,c.qx,c.qy,t[1],t[2]));break;case"Q":c.qx=t[1],c.qy=t[2],t=["C"].concat(se(c.x,c.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat($(c.x,c.y,t[1],t[2]));break;case"H":t=["C"].concat($(c.x,c.y,t[1],c.y));break;case"V":t=["C"].concat($(c.x,c.y,c.x,t[1]));break;case"Z":t=["C"].concat($(c.x,c.y,c.X,c.Y));break}return t},v=function(t,c){if(t[c].length>7){t[c].shift();for(var C=t[c];C.length;)i[c]="A",t.splice(c++,0,["C"].concat(C.splice(0,6)));t.splice(c,1),f=r.length}},i=[],l="",a="",u=0,f=r.length;u<f;u++){r[u]&&(l=r[u][0]),l!="C"&&(i[u]=l,u&&(a=i[u-1])),r[u]=o(r[u],s,a),i[u]!="A"&&l=="C"&&(i[u]="C"),v(r,u);var m=r[u],g=m.length;s.x=m[g-2],s.y=m[g-1],s.bx=d(m[g-4])||s.x,s.by=d(m[g-3])||s.y}return n.curve=G(r),r}var Oe=Xe,Qe=Oe;export{Qe as i};
