(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14350778"],{"4b83":function(t,e,o){},"5e6c":function(t,e,o){},d0ef:function(t,e,o){"use strict";var n=o("fff9"),i=o.n(n);i.a},d2ec:function(t,e,o){"use strict";var n=o("5e6c"),i=o.n(n);i.a},d9ec:function(t,e,o){"use strict";var n=o("4b83"),i=o.n(n);i.a},efcf:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-box"},[o("vue-particles",{attrs:{color:"#47CD88",linesColor:"#47CD88",shapeType:"star",hoverMode:"grab",clickMode:"remove",particleOpacity:.7,particlesNumber:80,particleSize:4,linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,moveSpeed:3,hoverEffect:!0,clickEffect:!0}}),o("div",{staticClass:"login-box-content",class:t.regestAnimation?"tranx":""},[o("div",{staticClass:"title"},[t._v(t._s(t.$t("login.title")))]),t.regest?o("Registered",{on:{regest:t.regestClose}}):o("login",{on:{regest:t.regestOpen}}),o("div",{staticClass:"language",style:"background-color:"+t.themeColor},[o("span",{style:"zh"===t.language?"color: #fff":"",on:{click:function(e){return t.changeLan("zh")}}},[t._v("中")]),t._v(" / "),o("span",{style:"en"===t.language?"color: #fff":"",on:{click:function(e){return t.changeLan("en")}}},[t._v("En")])]),o("div",{staticClass:"node-path"},[t._v("vue path: "),o("a",{attrs:{href:t.vuePath}},[t._v(t._s(t.vuePath))])]),o("div",{staticClass:"node-path"},[t._v("node path: "),o("a",{attrs:{href:t.nodePath}},[t._v(t._s(t.nodePath))])])],1)],1)},i=[],s=o("5530"),r=o("5880"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"0px"}},[o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入用户ID","prefix-icon":"el-icon-user"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1),o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入密码","prefix-icon":"el-icon-user-solid"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.regest}},[t._v(t._s(t.$t("login.register")))]),o("el-button",{attrs:{type:"primary"},on:{click:t.login}},[t._v(t._s(t.$t("login.login")))]),o("el-button",{attrs:{type:"primary"},on:{click:t.tourists}},[t._v(t._s(t.$t("login.touristsLogin")))])],1)],1)],1)},c=[],l=o("b5c6"),u=o("51be"),f=function(t){return Object(l["a"])({url:u["a"]+"/user/login",method:"post",data:Object(s["a"])({},t)})},m={name:"Login",data:function(){return{form:{account:"",password:""}}},methods:{login:function(){var t=this;if(this.form.account){var e={user_id:this.form.account,user_pwd:this.form.password};f(e).then((function(e){return 200===e.code?(t.$store.dispatch("userInfo",e.data),t.$store.dispatch("route")):t.$message({type:"error",message:e.msg}),e.code})).then((function(e){200===e&&t.goIndex()}))}else this.$message({type:"error",message:"请输入账号"})},regest:function(){this.$emit("regest")},tourists:function(){var t={account:"twinkeDing",password:"twinkeDing",user_name:"twinkeDing"};this.$store.dispatch("userInfo",t),this.$store.dispatch("route"),this.form=t,this.goIndex()},goIndex:function(){var t=this,e=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout((function(){e.close(),t.$router.push({path:"/index"})}),1e3)}}},d=m,g=(o("d2ec"),o("2877")),p=Object(g["a"])(d,a,c,!1,null,"458d105e",null),h=p.exports,v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"regest"},[o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"0px"}},[o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入名称","prefix-icon":"el-icon-user"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1),o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入注册ID","prefix-icon":"el-icon-user-solid"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1),o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入密码","prefix-icon":"el-icon-user-solid"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.goBack}},[t._v(t._s(t.$t("login.back")))]),o("el-button",{attrs:{type:"primary"},on:{click:t.regest}},[t._v(t._s(t.$t("login.sure")))])],1)],1)],1)},b=[],_={name:"Regest",data:function(){return{form:{}}},methods:{regest:function(){this.$message({type:"warning",message:"暂无服务器，无法注册，请使用游客登陆！"})},goBack:function(){this.$emit("regest")}}},k=_,$=(o("d0ef"),Object(g["a"])(k,v,b,!1,null,"bd6f0910",null)),x=$.exports,w={name:"LoginBox",data:function(){return{regest:!1,regestAnimation:"tranx",thimer:!1,vuePath:"https://github.com/TwinkleDing/vue-template",nodePath:"https://github.com/TwinkleDing/koa-mongodb"}},components:{Login:h,Registered:x},mounted:function(){this.$store.dispatch("logOut")},computed:Object(s["a"])({},Object(r["mapGetters"])(["language","themeColor"])),methods:{changeLan:function(t){this.$i18n.locale=t,this.$store.commit("SET_LANGUAGE",t)},regestOpen:function(){var t=this;this.regestAnimation=!1,this.throttle((function(){t.regest=!0,t.regestAnimation="tranx"}),600)},regestClose:function(){var t=this;this.regestAnimation=!1,this.throttle((function(){t.regest=!1,t.regestAnimation="tranx"}),600)},throttle:function(t,e){var o=this;this.timer||(this.timer=setTimeout((function(){t(),clearTimeout(o.timer),o.timer=!1}),e))}}},y=w,C=(o("d9ec"),Object(g["a"])(y,n,i,!1,null,"99d85c86",null));e["default"]=C.exports},fff9:function(t,e,o){}}]);