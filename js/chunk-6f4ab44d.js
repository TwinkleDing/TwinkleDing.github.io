(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f4ab44d"],{"030e":function(e,t,o){"use strict";var n=o("f6e1"),s=o.n(n);s.a},6966:function(e,t,o){"use strict";var n=o("e5da"),s=o.n(n);s.a},"81e8":function(e,t,o){},e090:function(e,t,o){"use strict";var n=o("81e8"),s=o.n(n);s.a},e5da:function(e,t,o){},efcf:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login-box"},[o("vue-particles",{attrs:{color:"#47CD88",linesColor:"#47CD88",shapeType:"star",hoverMode:"grab",clickMode:"remove",particleOpacity:.7,particlesNumber:80,particleSize:4,linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,moveSpeed:3,hoverEffect:!0,clickEffect:!0}}),o("div",{staticClass:"login-box-content",class:e.regestAnimation?"tranx":""},[o("div",{staticClass:"title"},[e._v(e._s(e.$t("login.title")))]),e.regest?o("registered",{on:{regest:e.regestClose}}):o("login",{on:{regest:e.regestOpen}}),o("div",{staticClass:"language",style:"background-color:"+e.themeColor},[o("span",{style:"zh"===e.language?"color: #fff":"",on:{click:function(t){return e.changeLan("zh")}}},[e._v("中")]),e._v(" / "),o("span",{style:"en"===e.language?"color: #fff":"",on:{click:function(t){return e.changeLan("en")}}},[e._v("En")])]),o("div",{staticClass:"node-path"},[e._v("vue path: "),o("a",{attrs:{href:e.vuePath}},[e._v(e._s(e.vuePath))])]),o("div",{staticClass:"node-path"},[e._v("node path: "),o("a",{attrs:{href:e.nodePath}},[e._v(e._s(e.nodePath))])])],1)],1)},s=[],r=o("5530"),i=o("5880"),a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login"},[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"0px"}},[o("el-form-item",[o("el-input",{attrs:{placeholder:e.$t("login.userId"),"prefix-icon":"el-icon-user"},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),o("el-form-item",[o("el-input",{attrs:{type:"password",placeholder:e.$t("login.userPassword"),"prefix-icon":"el-icon-user-solid"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.regest}},[e._v(e._s(e.$t("login.register")))]),o("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v(e._s(e.$t("login.login")))]),o("el-button",{attrs:{type:"primary"},on:{click:e.tourists}},[e._v(e._s(e.$t("login.touristsLogin")))])],1)],1)],1)},c=[],l=o("b5c6"),u=o("51be"),m=function(e){return Object(l["a"])({url:u["a"]+"/user/login",method:"post",data:Object(r["a"])({},e)})},f=function(e){return Object(l["a"])({url:u["a"]+"/user",method:"post",data:Object(r["a"])({},e)})},d={name:"Login",data:function(){return{form:{account:"",password:""}}},methods:{login:function(){var e=this;if(this.form.account){var t={user_id:this.form.account,user_pwd:this.form.password};m(t).then((function(t){return 200===t.code?(e.$store.dispatch("userInfo",t.data),e.$store.dispatch("route","admin")):e.$message({type:"error",message:t.msg}),t.code})).then((function(t){200===t&&e.goIndex()}))}else this.$message({type:"error",message:"请输入账号"})},regest:function(){this.$emit("regest")},tourists:function(){var e={account:"twinkeDing",password:"twinkeDing",user_name:"twinkeDing",type:"tourist"};this.$store.dispatch("userInfo",e),this.$store.dispatch("route",e.type),this.form=e,this.goIndex()},goIndex:function(){var e=this,t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout((function(){t.close(),e.$router.push({path:"/index"})}),1e3)}}},p=d,g=(o("6966"),o("2877")),h=Object(g["a"])(p,a,c,!1,null,"eceda320",null),v=h.exports,b=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"regest"},[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"0px"}},[o("el-form-item",[o("el-input",{attrs:{placeholder:e.$t("login.userName"),"prefix-icon":"el-icon-user"},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),o("el-form-item",[o("el-input",{attrs:{placeholder:e.$t("login.userId"),"prefix-icon":"el-icon-user-solid"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),o("el-form-item",[o("el-input",{attrs:{type:"password",placeholder:e.$t("login.userPassword"),"prefix-icon":"el-icon-user-solid"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.goBack}},[e._v(e._s(e.$t("login.back")))]),o("el-button",{attrs:{type:"primary"},on:{click:e.regest}},[e._v(e._s(e.$t("login.sure")))])],1)],1)],1)},$=[],_={name:"Regest",data:function(){return{form:{}}},methods:{regest:function(){var e=this;f({user_name:this.form.account,user_id:this.form.id,user_pwd:this.form.password}).then((function(t){200===t.code?(e.$message({type:"success",message:t.msg}),e.goBack()):e.$message({type:"error",message:t.msg})}))},goBack:function(){this.$emit("regest")}}},k=_,w=(o("030e"),Object(g["a"])(k,b,$,!1,null,"7624b60a",null)),x=w.exports,y={name:"LoginBox",data:function(){return{regest:!1,regestAnimation:"tranx",thimer:!1,vuePath:"https://github.com/TwinkleDing/vue-template",nodePath:"https://github.com/TwinkleDing/koa-mongodb"}},components:{Login:v,Registered:x},mounted:function(){this.$store.dispatch("logOut")},computed:Object(r["a"])({},Object(i["mapGetters"])(["language","themeColor"])),methods:{changeLan:function(e){this.$i18n.locale=e,this.$store.commit("SET_LANGUAGE",e)},regestOpen:function(){var e=this;this.regestAnimation=!1,this.throttle((function(){e.regest=!0,e.regestAnimation="tranx"}),600)},regestClose:function(){var e=this;this.regestAnimation=!1,this.throttle((function(){e.regest=!1,e.regestAnimation="tranx"}),600)},throttle:function(e,t){var o=this;this.timer||(this.timer=setTimeout((function(){e(),clearTimeout(o.timer),o.timer=!1}),t))}}},C=y,O=(o("e090"),Object(g["a"])(C,n,s,!1,null,"678af7a7",null));t["default"]=O.exports},f6e1:function(e,t,o){}}]);