(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a70f32be"],{"1b5d":function(t,e,o){"use strict";var n=o("92b0"),i=o.n(n);i.a},"3bcc":function(t,e,o){},"3c82":function(t,e,o){},"92b0":function(t,e,o){},ce93:function(t,e,o){"use strict";var n=o("3bcc"),i=o.n(n);i.a},dbec:function(t,e,o){"use strict";var n=o("3c82"),i=o.n(n);i.a},efcf:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-box"},[o("vue-particles",{attrs:{color:"#47CD88",linesColor:"#47CD88",shapeType:"star",hoverMode:"grab",clickMode:"remove",particleOpacity:.7,particlesNumber:80,particleSize:4,linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,moveSpeed:3,hoverEffect:!0,clickEffect:!0}}),o("div",{staticClass:"login-box-content",class:t.regestAnimation?"tranx":""},[o("div",{staticClass:"title"},[t._v(t._s(t.$t("login.title")))]),t.regest?o("Registered",{on:{regest:t.regestClose}}):o("login",{on:{regest:t.regestOpen}}),o("div",{staticClass:"language",style:"background-color:"+t.themeColor},[o("span",{style:"zh"===t.language?"color: #fff":"",on:{click:function(e){return t.changeLan("zh")}}},[t._v("中")]),t._v(" / "),o("span",{style:"en"===t.language?"color: #fff":"",on:{click:function(e){return t.changeLan("en")}}},[t._v("En")])]),o("div",{staticClass:"node-path"},[t._v("vue path: "),o("a",{attrs:{href:t.vuePath}},[t._v(t._s(t.vuePath))])]),o("div",{staticClass:"node-path"},[t._v("node path: "),o("a",{attrs:{href:t.nodePath}},[t._v(t._s(t.nodePath))])])],1)],1)},i=[],r=o("5530"),s=o("5880"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"0px"}},[o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入用户ID","prefix-icon":"el-icon-user"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1),o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入密码","prefix-icon":"el-icon-user-solid"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.regest}},[t._v(t._s(t.$t("login.register")))]),o("el-button",{attrs:{type:"primary"},on:{click:t.login}},[t._v(t._s(t.$t("login.login")))]),o("el-button",{attrs:{type:"primary"},on:{click:t.tourists}},[t._v(t._s(t.$t("login.touristsLogin")))])],1)],1)],1)},c=[],l=o("b5c6"),u=o("51be"),f=function(t){return Object(l["a"])({url:u["a"]+"/user/login",method:"post",data:Object(r["a"])({},t)})},m={name:"Login",data:function(){return{form:{account:"bilibili",password:"bilibili"}}},methods:{login:function(){var t=this;if(this.form.account){var e={user_id:this.form.account,user_pwd:this.form.password};f(e).then((function(e){t.$store.dispatch("userInfo",e.data),t.$store.dispatch("route")})).then((function(){t.goIndex()}))}else this.$message({type:"error",message:"请输入账号"})},regest:function(){this.$emit("regest")},tourists:function(){var t={account:"bilibili",password:"bilibili"};this.$store.dispatch("userInfo",t),this.$store.dispatch("route"),this.form=t,this.goIndex()},goIndex:function(){var t=this;this.$store.dispatch("logIn",this.form.account).then((function(){var e=t.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout((function(){e.close(),t.$router.push({path:"/index"})}),1e3)})).catch((function(){}))}}},h=m,d=(o("ce93"),o("2877")),p=Object(d["a"])(h,a,c,!1,null,"28156e10",null),g=p.exports,b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"regest"},[o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"0px"}},[o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入名称","prefix-icon":"el-icon-user"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1),o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入注册ID","prefix-icon":"el-icon-user-solid"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1),o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入密码","prefix-icon":"el-icon-user-solid"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.goBack}},[t._v(t._s(t.$t("login.back")))]),o("el-button",{attrs:{type:"primary"},on:{click:t.regest}},[t._v(t._s(t.$t("login.sure")))])],1)],1)],1)},v=[],_={name:"Regest",data:function(){return{form:{}}},methods:{regest:function(){},goBack:function(){this.$emit("regest")}}},k=_,x=(o("dbec"),Object(d["a"])(k,b,v,!1,null,"24f2629c",null)),$=x.exports,w={name:"LoginBox",data:function(){return{regest:!1,regestAnimation:"tranx",thimer:!1,vuePath:"https://github.com/TwinkleDing/vue-template",nodePath:"https://github.com/TwinkleDing/koa-mongodb"}},components:{Login:g,Registered:$},mounted:function(){this.$store.dispatch("logOut")},computed:Object(r["a"])({},Object(s["mapGetters"])(["language","themeColor"])),methods:{changeLan:function(t){this.$i18n.locale=t,this.$store.commit("SET_LANGUAGE",t)},regestOpen:function(){var t=this;this.regestAnimation=!1,this.throttle((function(){t.regest=!0,t.regestAnimation="tranx"}),600)},regestClose:function(){var t=this;this.regestAnimation=!1,this.throttle((function(){t.regest=!1,t.regestAnimation="tranx"}),600)},throttle:function(t,e){var o=this;this.timer||(this.timer=setTimeout((function(){t(),clearTimeout(o.timer),o.timer=!1}),e))}}},y=w,C=(o("1b5d"),Object(d["a"])(y,n,i,!1,null,"7116797d",null));e["default"]=C.exports}}]);